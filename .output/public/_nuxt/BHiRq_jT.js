import{_ as h}from"./BKg9m4wI.js";import{v as _,u as w,e as g,r as l,f as d,g as C,c as a,a as e,b as N,w as A,i as I,m as B,x as u,n as m,y as c,k as x,h as p,d as H,o as r}from"./GLV6bXvn.js";import{I as R,a as V}from"./D81SDHNc.js";import"./BMofnORk.js";import"./DlZaGH1J.js";const j={class:"mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10"},E={class:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},M={class:"flex items-center gap-2"},S={key:0,class:"text-center py-20"},T={key:1,class:"flex justify-center py-20"},L={key:2,class:"text-center py-20"},z={key:3},D={class:"mb-6 flex flex-wrap gap-5 border-b border-stroke dark:border-strokedark sm:gap-10"},O=_({__name:"index",setup($){w({title:"Моя статистика | ATC Platform"});const{user:n,isAuthenticated:v,hasRole:f}=g(),i=l(!0),s=l("hours"),o=d(()=>n.value?.instructorId),b=d(()=>!!o.value&&f(["TEACHER","ADMIN","MANAGER"]));return C(async()=>{n.value,i.value=!1}),(G,t)=>{const y=h;return r(),a("div",j,[e("div",E,[t[4]||(t[4]=e("h2",{class:"text-title-md2 font-bold text-black dark:text-white"}," Моя статистика ",-1)),e("nav",null,[e("ol",M,[e("li",null,[N(y,{class:"font-medium",to:"/"},{default:A(()=>[...t[2]||(t[2]=[H("Главная /",-1)])]),_:1})]),t[3]||(t[3]=e("li",{class:"font-medium text-primary"},"Статистика",-1))])])]),I(v)?i.value?(r(),a("div",T,[...t[6]||(t[6]=[e("div",{class:"h-10 w-10 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"},null,-1)])])):b.value?(r(),a("div",z,[e("div",D,[e("button",{onClick:t[0]||(t[0]=k=>s.value="hours"),class:m(["border-b-2 py-4 text-sm font-medium hover:text-primary md:text-base transition-colors",s.value==="hours"?"border-primary text-primary":"border-transparent text-body-color dark:text-bodydark"])}," Отчётность по часам ",2),e("button",{onClick:t[1]||(t[1]=k=>s.value="history"),class:m(["border-b-2 py-4 text-sm font-medium hover:text-primary md:text-base transition-colors",s.value==="history"?"border-primary text-primary":"border-transparent text-body-color dark:text-bodydark"])}," История курсов ",2)]),u(e("div",null,[o.value?(r(),x(R,{key:0,"instructor-id":o.value,"initial-load":!0,ref:"hoursStatsRef"},null,8,["instructor-id"])):p("",!0)],512),[[c,s.value==="hours"]]),u(e("div",null,[o.value?(r(),x(V,{key:0,"instructor-id":o.value,"initial-load":!0,ref:"courseHistoryRef"},null,8,["instructor-id"])):p("",!0)],512),[[c,s.value==="history"]])])):(r(),a("div",L,[...t[7]||(t[7]=[B('<div class="mx-auto mb-4 h-16 w-16 rounded-full bg-danger/10 flex items-center justify-center"><svg class="h-8 w-8 text-danger" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div><h3 class="text-xl font-bold text-black dark:text-white mb-2"> Нет доступа </h3><p class="text-gray-500">Ваш аккаунт не связан с профилем инструктора.</p>',3)])])):(r(),a("div",S,[...t[5]||(t[5]=[e("p",null,"Пожалуйста, войдите в систему.",-1)])]))])}}});export{O as default};
