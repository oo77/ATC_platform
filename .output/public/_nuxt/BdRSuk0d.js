import{v as z,r as I,c as a,m as H,a as t,n as w,z as E,h as b,t as u,d as S,o,f as p,i,a0 as K,k as $,B as D,F as C,j,w as A,l as W,C as J,g as Q,L as Z,b as tt,O as et}from"./GLV6bXvn.js";import{_ as B}from"./DlAUqK2U.js";import{u as rt}from"./DHt4CjJ-.js";import{u as st}from"./DVL-QcDc.js";import"./DlZaGH1J.js";import"./CRUGdXr-.js";import"./CFbq0LVm.js";const ot={class:"flex flex-col gap-6"},nt={class:"flex flex-col items-center justify-center p-12"},at={key:1,class:"w-10 h-10 text-primary animate-spin",fill:"none",viewBox:"0 0 24 24"},lt={class:"text-center"},it={class:"mb-2 text-lg font-semibold text-gray-700 dark:text-gray-200"},dt=["disabled"],ct={key:0,class:"mt-6 flex items-center gap-3 rounded-lg bg-green-50 px-4 py-3 dark:bg-green-900/20"},ut={class:"flex-1"},gt={class:"text-sm font-medium text-green-800 dark:text-green-200"},xt={class:"text-xs text-green-600 dark:text-green-400"},mt=z({__name:"ImportUploader",props:{loading:{type:Boolean}},emits:["fileSelected"],setup(s,{emit:r}){const d=r,x=I(null),m=I(!1),y=I(""),f=I(0),v=()=>{x.value?.click()},k=n=>{const h=n.target.files?.[0];h&&e(h)},c=n=>{m.value=!1;const l=n.dataTransfer?.files[0];l&&e(l)},e=n=>{if(!n.name.match(/\.(xlsx|xls)$/i)){alert("Пожалуйста, выберите файл Excel (.xlsx или .xls)");return}y.value=n.name,f.value=n.size,d("fileSelected",n)},g=n=>{if(n===0)return"0 Bytes";const l=1024,h=["Bytes","KB","MB","GB"],_=Math.floor(Math.log(n)/Math.log(l));return Math.round(n/Math.pow(l,_)*100)/100+" "+h[_]};return(n,l)=>(o(),a("div",ot,[l[7]||(l[7]=H('<div class="rounded-lg bg-blue-50 p-6 dark:bg-blue-900/20"><div class="flex items-start gap-4"><div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-blue-500"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1"><h3 class="text-lg font-semibold text-blue-900 dark:text-blue-100"> Требования к файлу </h3><ul class="mt-3 space-y-2 text-sm text-blue-800 dark:text-blue-200"><li class="flex items-start gap-2"><svg class="w-5 h-5 shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Формат файла: <strong>.xlsx</strong> или <strong>.xls</strong></span></li><li class="flex items-start gap-2"><svg class="w-5 h-5 shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Первая строка должна содержать заголовки: <strong>ПИНФЛ, ФИО, Организация, Служба/Отдел, Должность</strong></span></li><li class="flex items-start gap-2"><svg class="w-5 h-5 shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>ПИНФЛ должен содержать ровно <strong>14 цифр</strong></span></li><li class="flex items-start gap-2"><svg class="w-5 h-5 shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>При совпадении ПИНФЛ данные студента будут <strong>обновлены</strong></span></li></ul></div></div></div>',1)),t("div",{onDragover:l[0]||(l[0]=E(h=>m.value=!0,["prevent"])),onDragleave:l[1]||(l[1]=E(h=>m.value=!1,["prevent"])),onDrop:E(c,["prevent"]),class:w(["relative rounded-xl border-2 border-dashed transition-all duration-300",m.value?"border-primary bg-primary/5 scale-[1.02]":"border-gray-300 dark:border-gray-600",s.loading?"pointer-events-none opacity-60":""])},[t("input",{ref_key:"fileInput",ref:x,type:"file",accept:".xlsx,.xls",onChange:k,class:"hidden"},null,544),t("div",nt,[t("div",{class:w(["mb-6 flex h-20 w-20 items-center justify-center rounded-full transition-all duration-300",m.value?"bg-primary scale-110":"bg-gray-100 dark:bg-gray-800"])},[s.loading?(o(),a("svg",at,[...l[3]||(l[3]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(o(),a("svg",{key:0,class:w(["w-10 h-10 transition-colors duration-300",m.value?"text-white":"text-gray-400 dark:text-gray-500"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...l[2]||(l[2]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"},null,-1)])],2))],2),t("div",lt,[t("p",it,u(s.loading?"Анализ файла...":m.value?"Отпустите файл":"Перетащите файл сюда"),1),l[5]||(l[5]=t("p",{class:"mb-4 text-sm text-gray-500 dark:text-gray-400"}," или ",-1)),t("button",{onClick:v,disabled:s.loading,class:"inline-flex items-center gap-2 rounded-lg bg-primary px-6 py-3 text-sm font-medium text-white transition-all duration-200 hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed"},[...l[4]||(l[4]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),S(" Выбрать файл ",-1)])],8,dt)]),y.value?(o(),a("div",ct,[l[6]||(l[6]=t("svg",{class:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("div",ut,[t("p",gt,u(y.value),1),t("p",xt,u(g(f.value)),1)])])):b("",!0)])],34),l[8]||(l[8]=H('<div class="rounded-lg border border-gray-200 dark:border-gray-700"><div class="border-b border-gray-200 bg-gray-50 px-6 py-4 dark:border-gray-700 dark:bg-gray-800"><h4 class="text-sm font-semibold text-gray-700 dark:text-gray-200"> Пример структуры файла </h4></div><div class="overflow-x-auto"><table class="w-full text-sm"><thead class="bg-gray-100 dark:bg-gray-800"><tr><th class="px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300">ПИНФЛ</th><th class="px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300">ФИО</th><th class="px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300">Организация</th><th class="px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300">Служба/Отдел</th><th class="px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300">Должность</th></tr></thead><tbody class="divide-y divide-gray-200 dark:divide-gray-700"><tr><td class="px-4 py-3 text-gray-600 dark:text-gray-400">12345678901234</td><td class="px-4 py-3 text-gray-600 dark:text-gray-400">Иванов Иван Иванович</td><td class="px-4 py-3 text-gray-600 dark:text-gray-400">ООО &quot;Пример&quot;</td><td class="px-4 py-3 text-gray-600 dark:text-gray-400">IT отдел</td><td class="px-4 py-3 text-gray-600 dark:text-gray-400">Разработчик</td></tr><tr><td class="px-4 py-3 text-gray-600 dark:text-gray-400">98765432109876</td><td class="px-4 py-3 text-gray-600 dark:text-gray-400">Петрова Мария Сергеевна</td><td class="px-4 py-3 text-gray-600 dark:text-gray-400">АО &quot;Технологии&quot;</td><td class="px-4 py-3 text-gray-600 dark:text-gray-400">HR отдел</td><td class="px-4 py-3 text-gray-600 dark:text-gray-400">Менеджер</td></tr></tbody></table></div></div>',1))]))}}),pt=Object.assign(mt,{__name:"DatabaseImportUploader"}),yt={},ft={class:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function kt(s,r){return o(),a("svg",ft,[...r[0]||(r[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])])}const P=Object.assign(B(yt,[["render",kt]]),{__name:"CommonIconsIconDocument"}),bt={},vt={class:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function ht(s,r){return o(),a("svg",vt,[...r[0]||(r[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])}const wt=Object.assign(B(bt,[["render",ht]]),{__name:"CommonIconsIconCheckCircle"}),_t={},$t={class:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function Ct(s,r){return o(),a("svg",$t,[...r[0]||(r[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"},null,-1)])])}const U=Object.assign(B(_t,[["render",Ct]]),{__name:"CommonIconsIconUserAdd"}),jt={},Mt={class:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function Bt(s,r){return o(),a("svg",Mt,[...r[0]||(r[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])])}const O=Object.assign(B(jt,[["render",Bt]]),{__name:"CommonIconsIconRefresh"}),St={class:"flex items-center justify-between"},zt={class:"text-sm font-medium opacity-90"},It=z({__name:"StatCard",props:{label:{},value:{},variant:{default:"blue"},icon:{},large:{type:Boolean,default:!1},hoverEffect:{type:Boolean,default:!1}},setup(s){const r=s,d={blue:"bg-gradient-to-br from-blue-500 to-blue-600",green:"bg-gradient-to-br from-green-500 to-green-600",purple:"bg-gradient-to-br from-purple-500 to-purple-600",orange:"bg-gradient-to-br from-orange-500 to-orange-600",red:"bg-gradient-to-br from-red-500 to-red-600",indigo:"bg-gradient-to-br from-indigo-500 to-indigo-600",gray:"bg-gradient-to-br from-gray-500 to-gray-600"},x=p(()=>d[r.variant]);return(m,y)=>(o(),a("div",{class:w(["rounded-xl p-6 text-white shadow-lg",s.hoverEffect?"transform transition-transform hover:scale-105":"",i(x)])},[t("div",St,[t("div",null,[t("p",zt,u(s.label),1),t("p",{class:w(["mt-2 font-bold",s.large?"text-4xl":"text-3xl"])},u(s.value),3)]),t("div",{class:w(["flex items-center justify-center rounded-full bg-white/20",s.large?"h-14 w-14":"h-12 w-12"])},[K(m.$slots,"icon",{},()=>[s.icon?(o(),$(D(s.icon),{key:0,class:w(s.large?"w-8 h-8":"w-6 h-6")},null,8,["class"])):b("",!0)])],2)])],2))}}),V=Object.assign(It,{__name:"CommonStatCard"}),R=(s,r,d,x)=>{const m=Math.abs(s),y=m%10,f=m%100;return f>=11&&f<=19?x:y===1?r:y>=2&&y<=4?d:x},N=(s,r,d,x)=>`${s} ${R(s,r,d,x)}`,F=s=>N(s,"запись","записи","записей"),Rt=s=>N(s,"строка","строки","строк"),q=s=>N(s,"ошибка","ошибки","ошибок"),Dt={class:"flex flex-col gap-6"},Et={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},At={key:0,class:"rounded-xl border-2 border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20"},Ot={class:"border-b border-red-200 bg-red-100 px-6 py-4 dark:border-red-800 dark:bg-red-900/30"},Vt={class:"flex items-center gap-3"},Nt={class:"text-sm text-red-700 dark:text-red-300"},Ft={class:"max-h-60 overflow-y-auto p-6"},Ht={class:"space-y-3"},Lt={class:"mb-2 text-sm font-semibold text-gray-900 dark:text-white"},Tt={class:"space-y-1"},Pt={key:0,class:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400"},Ut={class:"rounded-xl border border-gray-200 dark:border-gray-700"},qt={class:"border-b border-gray-200 bg-gray-50 px-6 py-4 dark:border-gray-700 dark:bg-gray-800"},Gt={class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},Xt={class:"overflow-x-auto"},Yt={class:"w-full text-sm"},Kt={class:"divide-y divide-gray-200 dark:divide-gray-700"},Wt={class:"px-4 py-3 text-gray-600 dark:text-gray-400"},Jt={class:"px-4 py-3 font-mono text-xs text-gray-900 dark:text-white"},Qt={class:"px-4 py-3 text-gray-900 dark:text-white"},Zt={class:"px-4 py-3 text-gray-600 dark:text-gray-400"},te={class:"px-4 py-3 text-gray-600 dark:text-gray-400"},ee={class:"px-4 py-3 text-gray-600 dark:text-gray-400"},re={class:"px-4 py-3"},se={class:"flex items-center justify-end gap-4"},oe=["disabled"],ne=["disabled"],ae={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},le={key:1,class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},L=10,ie=z({__name:"ImportAnalysis",props:{analysis:{},loading:{type:Boolean}},emits:["confirm","cancel"],setup(s){const r=s,d=p(()=>new Set(r.analysis.existingPinfls||[])),x=c=>d.value.has(c),m=p(()=>[{label:"Всего строк",value:r.analysis.totalRows,variant:"blue",icon:P},{label:"Валидные",value:r.analysis.validRows,variant:"green",icon:wt},{label:"Будут созданы",value:r.analysis.newStudents,variant:"purple",icon:U},{label:"Будут обновлены",value:r.analysis.existingStudents,variant:"orange",icon:O}]),y=p(()=>(r.analysis.errors||[]).slice(0,L)),f=p(()=>{const c=r.analysis.errors?.length||0;return Math.max(0,c-L)}),v=p(()=>Math.min(r.analysis.preview?.length||0,20)),k=c=>{const e="inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-medium";return x(c)?`${e} bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400`:`${e} bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400`};return(c,e)=>{const g=V;return o(),a("div",Dt,[t("div",Et,[(o(!0),a(C,null,j(i(m),n=>(o(),$(g,{key:n.label,label:n.label,value:n.value,variant:n.variant},{icon:A(()=>[(o(),$(D(n.icon)))]),_:2},1032,["label","value","variant"]))),128))]),s.analysis.invalidRows>0?(o(),a("div",At,[t("div",Ot,[t("div",Vt,[e[3]||(e[3]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-full bg-red-500"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",null,[e[2]||(e[2]=t("h4",{class:"text-lg font-semibold text-red-900 dark:text-red-100"}," Обнаружены ошибки валидации ",-1)),t("p",Nt,u(i(Rt)(s.analysis.invalidRows))+" "+u(i(R)(s.analysis.invalidRows,"содержит","содержат","содержат"))+" ошибки и "+u(i(R)(s.analysis.invalidRows,"будет пропущена","будут пропущены","будут пропущены")),1)])])]),t("div",Ft,[t("div",Ht,[(o(!0),a(C,null,j(i(y),n=>(o(),a("div",{key:n.rowNumber,class:"rounded-lg bg-white p-4 dark:bg-gray-800"},[t("p",Lt," Строка "+u(n.rowNumber),1),t("ul",Tt,[(o(!0),a(C,null,j(n.errors,(l,h)=>(o(),a("li",{key:h,class:"flex items-start gap-2 text-sm text-red-600 dark:text-red-400"},[e[4]||(e[4]=t("svg",{class:"w-4 h-4 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),S(" "+u(l),1)]))),128))])]))),128))]),i(f)>0?(o(),a("p",Pt," И ещё "+u(i(q)(i(f)))+"... ",1)):b("",!0)])])):b("",!0),t("div",Ut,[t("div",qt,[e[5]||(e[5]=t("h4",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Предпросмотр данных ",-1)),t("p",Gt," Показаны первые "+u(i(v))+" "+u(i(R)(i(v),"валидная запись","валидные записи","валидных записей")),1)]),t("div",Xt,[t("table",Yt,[e[6]||(e[6]=t("thead",{class:"bg-gray-100 dark:bg-gray-800"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300"},"№"),t("th",{class:"px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300"},"ПИНФЛ"),t("th",{class:"px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300"},"ФИО"),t("th",{class:"px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300"},"Организация"),t("th",{class:"px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300"},"Служба/Отдел"),t("th",{class:"px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300"},"Должность"),t("th",{class:"px-4 py-3 text-left font-medium text-gray-700 dark:text-gray-300"},"Статус")])],-1)),t("tbody",Kt,[(o(!0),a(C,null,j(s.analysis.preview||[],(n,l)=>(o(),a("tr",{key:l,class:"transition-colors hover:bg-gray-50 dark:hover:bg-gray-800"},[t("td",Wt,u(n.rowNumber),1),t("td",Jt,u(n.pinfl),1),t("td",Qt,u(n.fullName),1),t("td",Zt,u(n.organization),1),t("td",te,u(n.department||"—"),1),t("td",ee,u(n.position),1),t("td",re,[t("span",{class:w(k(n.pinfl))},u(x(n.pinfl)?"Обновление":"Новый"),3)])]))),128))])])])]),t("div",se,[t("button",{onClick:e[0]||(e[0]=n=>c.$emit("cancel")),disabled:s.loading,class:"rounded-lg border border-gray-300 bg-white px-6 py-3 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"}," Отмена ",8,oe),t("button",{onClick:e[1]||(e[1]=n=>c.$emit("confirm")),disabled:s.loading||s.analysis.validRows===0,class:"inline-flex items-center gap-2 rounded-lg bg-primary px-6 py-3 text-sm font-medium text-white transition-all duration-200 hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed"},[s.loading?(o(),a("svg",le,[...e[8]||(e[8]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(o(),a("svg",ae,[...e[7]||(e[7]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"},null,-1)])])),S(" "+u(s.loading?"Запуск импорта...":`Импортировать ${i(F)(s.analysis.validRows)}`),1)],8,ne)])])}}}),de=Object.assign(ie,{__name:"DatabaseImportAnalysis"}),ce={},ue={class:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function ge(s,r){return o(),a("svg",ue,[...r[0]||(r[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])}const xe=Object.assign(B(ce,[["render",ge]]),{__name:"CommonIconsIconCheck"}),me={},pe={class:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function ye(s,r){return o(),a("svg",pe,[...r[0]||(r[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"},null,-1)])])}const fe=Object.assign(B(me,[["render",ye]]),{__name:"CommonIconsIconPlus"}),ke={},be={class:"w-full h-full",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"};function ve(s,r){return o(),a("svg",be,[...r[0]||(r[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])}const G=Object.assign(B(ke,[["render",ve]]),{__name:"CommonIconsIconExclamationCircle"}),he={class:"flex flex-col gap-6"},we={class:"text-center"},_e={class:"mx-auto mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-primary/10"},$e={key:0,class:"h-10 w-10 animate-spin text-primary",fill:"none",viewBox:"0 0 24 24"},Ce={key:1,class:"h-10 w-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},je={key:2,class:"h-10 w-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Me={class:"text-2xl font-bold text-gray-900 dark:text-white"},Be={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Se={class:"rounded-xl border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-boxdark"},ze={class:"mb-4 flex items-center justify-between"},Ie={class:"text-sm font-bold text-primary"},Re={class:"relative h-4 overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700"},De={class:"mt-2 text-center"},Ee={class:"text-2xl font-bold text-gray-900 dark:text-white"},Ae={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},Oe={key:0,class:"rounded-xl border-2 border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20"},Ve={class:"border-b border-red-200 bg-red-100 px-6 py-4 dark:border-red-800 dark:bg-red-900/30"},Ne={class:"flex items-center gap-3"},Fe={class:"text-sm text-red-700 dark:text-red-300"},He={class:"max-h-60 overflow-y-auto p-6"},Le={class:"space-y-3"},Te={class:"flex items-start justify-between gap-4"},Pe={class:"flex-1"},Ue={class:"mb-1 text-sm font-semibold text-gray-900 dark:text-white"},qe={class:"text-sm text-red-600 dark:text-red-400"},Ge={key:0,class:"mt-4 text-center text-sm text-gray-600 dark:text-gray-400"},Xe={key:1,class:"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400"},T=10,Ye=z({__name:"ImportProgress",props:{progress:{}},setup(s){const r=s,d=p(()=>r.progress.totalRows===0?0:Math.round(r.progress.processedRows/r.progress.totalRows*100)),x=p(()=>({processing:"Импорт данных",completed:"Импорт завершён",failed:"Импорт не удался"})[r.progress.status]||"Ожидание"),m=p(()=>({processing:"Пожалуйста, подождите. Это может занять некоторое время...",completed:"Все данные успешно обработаны",failed:"Произошла ошибка при импорте данных"})[r.progress.status]||"Подготовка к импорту..."),y=p(()=>[{label:"Успешно",value:r.progress.successCount,variant:"green",icon:xe},{label:"Создано",value:r.progress.createdCount,variant:"blue",icon:fe},{label:"Обновлено",value:r.progress.updatedCount,variant:"orange",icon:O},{label:"Ошибки",value:r.progress.errorCount,variant:"red",icon:G}]),f=p(()=>(r.progress.errors||[]).slice(0,T)),v=p(()=>{const k=r.progress.errors?.length||0;return Math.max(0,k-T)});return(k,c)=>{const e=V;return o(),a("div",he,[t("div",we,[t("div",_e,[s.progress.status==="processing"?(o(),a("svg",$e,[...c[0]||(c[0]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):s.progress.status==="completed"?(o(),a("svg",Ce,[...c[1]||(c[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):s.progress.status==="failed"?(o(),a("svg",je,[...c[2]||(c[2]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):b("",!0)]),t("h3",Me,u(i(x)),1),t("p",Be,u(i(m)),1)]),t("div",Se,[t("div",ze,[c[3]||(c[3]=t("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Обработано записей ",-1)),t("span",Ie,u(s.progress.processedRows)+" / "+u(s.progress.totalRows),1)]),t("div",Re,[t("div",{class:"h-full rounded-full bg-gradient-to-r from-primary to-primary/80 transition-all duration-300 ease-out",style:W({width:`${i(d)}%`})},[...c[4]||(c[4]=[t("div",{class:"h-full w-full animate-pulse bg-white/20"},null,-1)])],4)]),t("div",De,[t("span",Ee,u(i(d))+"% ",1)])]),t("div",Ae,[(o(!0),a(C,null,j(i(y),g=>(o(),$(e,{key:g.label,label:g.label,value:g.value,variant:g.variant,"hover-effect":""},{icon:A(()=>[(o(),$(D(g.icon)))]),_:2},1032,["label","value","variant"]))),128))]),s.progress.errors&&s.progress.errors.length>0?(o(),a("div",Oe,[t("div",Ve,[t("div",Ne,[c[6]||(c[6]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-full bg-red-500"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",null,[c[5]||(c[5]=t("h4",{class:"text-lg font-semibold text-red-900 dark:text-red-100"}," Ошибки при импорте ",-1)),t("p",Fe,u(i(F)(s.progress.errors.length))+" не удалось импортировать ",1)])])]),t("div",He,[t("div",Le,[(o(!0),a(C,null,j(i(f),(g,n)=>(o(),a("div",{key:n,class:"rounded-lg bg-white p-4 dark:bg-gray-800"},[t("div",Te,[t("div",Pe,[t("p",Ue," Строка "+u(g.rowNumber)+" • ПИНФЛ: "+u(g.pinfl),1),t("p",qe,u(g.error),1)])])]))),128))]),i(v)>0?(o(),a("p",Ge," И ещё "+u(i(q)(i(v)))+"... ",1)):b("",!0)])])):b("",!0),s.progress.status==="processing"?(o(),a("div",Xe,[...c[7]||(c[7]=[t("div",{class:"flex gap-1"},[t("div",{class:"h-2 w-2 animate-bounce rounded-full bg-primary",style:{"animation-delay":"0ms"}}),t("div",{class:"h-2 w-2 animate-bounce rounded-full bg-primary",style:{"animation-delay":"150ms"}}),t("div",{class:"h-2 w-2 animate-bounce rounded-full bg-primary",style:{"animation-delay":"300ms"}})],-1),t("span",null,"Импорт в процессе...",-1)])])):b("",!0)])}}}),Ke=Object.assign(Ye,{__name:"DatabaseImportProgress"}),We={class:"flex flex-col gap-6"},Je={class:"text-center"},Qe={key:0,class:"h-12 w-12 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ze={key:1,class:"h-12 w-12 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},tr={class:"text-3xl font-bold text-gray-900 dark:text-white"},er={class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},rr={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},sr={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},or={class:"rounded-xl border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-boxdark"},nr={class:"flex items-center gap-4"},ar={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},lr={class:"rounded-xl border border-gray-200 bg-white p-6 dark:border-gray-700 dark:bg-boxdark"},ir={class:"flex items-center gap-4"},dr={class:"mt-1 text-2xl font-bold text-gray-900 dark:text-white"},cr={key:0,class:"rounded-xl border-2 border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20"},ur={class:"border-b border-red-200 bg-red-100 px-6 py-4 dark:border-red-800 dark:bg-red-900/30"},gr={class:"flex items-center justify-between"},xr={class:"flex items-center gap-3"},mr={class:"text-sm text-red-700 dark:text-red-300"},pr={class:"max-h-80 overflow-y-auto p-6"},yr={class:"space-y-3"},fr={class:"flex items-start justify-between gap-4"},kr={class:"flex-1"},br={class:"mb-1 text-sm font-semibold text-gray-900 dark:text-white"},vr={class:"text-sm text-red-600 dark:text-red-400"},hr={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-center"},wr=z({__name:"ImportResults",props:{result:{}},emits:["newImport","goToDatabase"],setup(s){const r=s,d=p(()=>(r.result.errorCount??0)===0),x=p(()=>{const c=r.result.processedRows??0,e=r.result.errorCount??0,g=r.result.successCount??0;return e===0?`Все ${c} записей успешно импортированы`:`${g} из ${c} записей импортированы успешно`}),m=p(()=>{if(!r.result.completedAt)return"—";const c=new Date(r.result.completedAt).getTime()-new Date(r.result.startedAt).getTime(),e=Math.floor(c/1e3),g=Math.floor(e/60);return g>0?`${g} мин ${e%60} сек`:`${e} сек`}),y=p(()=>{const c=r.result.processedRows??0,e=r.result.successCount??0;return c===0?0:Math.round(e/c*100)}),f=p(()=>[{label:"Всего обработано",value:r.result.processedRows??0,variant:"blue",icon:P},{label:"Создано новых",value:r.result.createdCount??0,variant:"green",icon:U},{label:"Обновлено",value:r.result.updatedCount??0,variant:"orange",icon:O},{label:"Ошибки",value:r.result.errorCount??0,variant:"red",icon:G}]),v=c=>{const e=String(c);return e.includes(",")||e.includes('"')||e.includes(`
`)?`"${e.replace(/"/g,'""')}"`:e},k=()=>{const c=["Строка","ПИНФЛ","Ошибка"],e=(r.result.errors||[]).map(_=>[_.rowNumber,_.pinfl,_.error]),g=[c.map(v).join(","),...e.map(_=>_.map(v).join(","))].join(`
`),n=new Blob(["\uFEFF"+g],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),h=new Date().toISOString().slice(0,10);l.href=URL.createObjectURL(n),l.download=`import-errors-${h}.csv`,l.click(),URL.revokeObjectURL(l.href)};return(c,e)=>{const g=V;return o(),a("div",We,[t("div",Je,[t("div",{class:w(["mx-auto mb-4 flex h-24 w-24 items-center justify-center rounded-full",i(d)?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"])},[i(d)?(o(),a("svg",Qe,[...e[2]||(e[2]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):(o(),a("svg",Ze,[...e[3]||(e[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],2),t("h3",tr,u(i(d)?"Импорт завершён успешно!":"Импорт завершён с ошибками"),1),t("p",er,u(i(x)),1)]),t("div",rr,[(o(!0),a(C,null,j(i(f),n=>(o(),$(g,{key:n.label,label:n.label,value:n.value,variant:n.variant,large:""},{icon:A(()=>[(o(),$(D(n.icon)))]),_:2},1032,["label","value","variant"]))),128))]),t("div",sr,[t("div",or,[t("div",nr,[e[5]||(e[5]=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-900/30"},[t("svg",{class:"w-6 h-6 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Время выполнения",-1)),t("p",ar,u(i(m)),1)])])]),t("div",lr,[t("div",ir,[e[7]||(e[7]=t("div",{class:"flex h-12 w-12 items-center justify-center rounded-full bg-indigo-100 dark:bg-indigo-900/30"},[t("svg",{class:"w-6 h-6 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Успешность",-1)),t("p",dr,u(i(y))+"%",1)])])])]),s.result.errors&&s.result.errors.length>0?(o(),a("div",cr,[t("div",ur,[t("div",gr,[t("div",xr,[e[9]||(e[9]=t("div",{class:"flex h-10 w-10 items-center justify-center rounded-full bg-red-500"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",null,[e[8]||(e[8]=t("h4",{class:"text-lg font-semibold text-red-900 dark:text-red-100"}," Детали ошибок ",-1)),t("p",mr,u(i(F)(s.result.errors.length))+" не удалось импортировать ",1)])]),t("button",{onClick:k,class:"inline-flex items-center gap-2 rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-red-700"},[...e[10]||(e[10]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),S(" Скачать отчёт ",-1)])])])]),t("div",pr,[t("div",yr,[(o(!0),a(C,null,j(s.result.errors,(n,l)=>(o(),a("div",{key:l,class:"rounded-lg bg-white p-4 dark:bg-gray-800"},[t("div",fr,[t("div",kr,[t("p",br," Строка "+u(n.rowNumber)+" • ПИНФЛ: "+u(n.pinfl),1),t("p",vr,u(n.error),1)])])]))),128))])])])):b("",!0),t("div",hr,[t("button",{onClick:e[0]||(e[0]=n=>c.$emit("newImport")),class:"inline-flex items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-6 py-3 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"},[...e[11]||(e[11]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),S(" Новый импорт ",-1)])]),t("button",{onClick:e[1]||(e[1]=n=>c.$emit("goToDatabase")),class:"inline-flex items-center justify-center gap-2 rounded-lg bg-primary px-6 py-3 text-sm font-medium text-white transition-all duration-200 hover:bg-primary/90"},[...e[12]||(e[12]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})],-1),S(" Перейти к базе данных ",-1)])])])])}}}),_r=Object.assign(wr,{__name:"DatabaseImportResults"}),$r={class:"mx-auto max-w-7xl"},Cr={class:"mb-8 rounded-lg border border-stroke bg-white px-8 py-6 shadow-default dark:border-strokedark dark:bg-boxdark"},jr={class:"flex items-center justify-between"},Mr={key:0,class:"text-xl"},Br={key:1,class:"text-sm font-bold"},Sr={key:0,class:"absolute top-5 left-[50%] w-full h-[2px] -z-10"},zr={key:0,class:"mb-6 rounded-lg border border-danger/20 bg-danger/5 dark:bg-danger/10 p-4 shadow-sm"},Ir={class:"flex items-center gap-3"},Rr={class:"flex-1 min-w-0"},Dr={class:"text-sm text-danger/80 dark:text-danger/90"},Er={class:"rounded-lg border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"},Ar={key:0,class:"p-6 lg:p-8"},Or={key:1,class:"p-6 lg:p-8"},Vr={key:1,class:"text-center py-12"},Nr={key:2,class:"p-6 lg:p-8"},Fr={key:1,class:"flex flex-col items-center justify-center py-16"},Hr={key:3,class:"p-6 lg:p-8"},Yr=z({__name:"import",setup(s){const r=[{id:1,label:"Загрузка файла"},{id:2,label:"Предпросмотр"},{id:3,label:"Импорт"},{id:4,label:"Результаты"}],d=J(rt()),x=I(null),{error:m}=st(),y=n=>n<d.currentStep?["border-primary","bg-primary","text-white"]:n===d.currentStep?["border-primary","text-primary"]:["border-gray-300","text-gray-400","dark:border-gray-600"];Q(()=>{d.jobId&&d.isImporting&&d.startPolling()}),Z(()=>{});const f=n=>{x.value=n,d.analyzeStudentImport(n)},v=async()=>{x.value?d.executeStudentImport(x.value):d.analysis&&(m("Файл был потерян при обновлении страницы. Пожалуйста, выберите файл заново."),d.currentStep=1)},k=()=>{d.cancelImport(),x.value=null},c=()=>{k()},e=()=>{d.reset(),et("/users?tab=students")},g=()=>{d.currentStep=d.currentStep};return(n,l)=>{const h=pt,_=de,X=Ke,Y=_r;return o(),a("div",$r,[l[6]||(l[6]=t("div",{class:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},[t("h2",{class:"text-title-md2 font-bold text-black dark:text-white"}," Импорт студентов ")],-1)),t("div",Cr,[t("div",jr,[(o(),a(C,null,j(r,M=>t("div",{key:M.id,class:"relative flex flex-col items-center flex-1"},[t("div",{class:w(["flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors duration-300",y(M.id)])},[M.id<i(d).currentStep?(o(),a("span",Mr,"✓")):(o(),a("span",Br,u(M.id),1))],2),t("span",{class:w(["mt-2 text-xs font-medium text-center",M.id<=i(d).currentStep?"text-primary":"text-gray-500 dark:text-gray-400"])},u(M.label),3),M.id!==r.length?(o(),a("div",Sr,[t("div",{class:w(["h-full transition-all duration-300",M.id<i(d).currentStep?"bg-primary":"bg-gray-200 dark:bg-gray-700"])},null,2)])):b("",!0)])),64))])]),i(d).error?(o(),a("div",zr,[t("div",Ir,[l[2]||(l[2]=t("div",{class:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-danger"},[t("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",Rr,[l[0]||(l[0]=t("h4",{class:"font-semibold text-danger dark:text-danger"},"Ошибка",-1)),t("p",Dr,u(i(d).error),1)]),t("button",{onClick:g,class:"text-danger hover:text-danger/80 dark:hover:text-danger/70 transition-colors shrink-0"},[...l[1]||(l[1]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):b("",!0),t("div",Er,[i(d).currentStep===1?(o(),a("div",Ar,[tt(h,{loading:i(d).isAnalyzing,onFileSelected:f},null,8,["loading"])])):i(d).currentStep===2?(o(),a("div",Or,[i(d).analysis?(o(),$(_,{key:0,analysis:i(d).analysis,loading:i(d).isImporting,onConfirm:v,onCancel:k},null,8,["analysis","loading"])):(o(),a("div",Vr,[l[3]||(l[3]=t("div",{class:"mb-4"},[t("svg",{class:"mx-auto h-16 w-16 text-gray-400 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),l[4]||(l[4]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-4"}," Файл не выбран или данные анализа потеряны. Пожалуйста, начните заново. ",-1)),t("button",{onClick:k,class:"px-6 py-2.5 bg-primary text-white rounded-lg hover:bg-primary-600 transition-colors font-medium"}," Вернуться к загрузке ")]))])):i(d).currentStep===3?(o(),a("div",Nr,[i(d).progress?(o(),$(X,{key:0,progress:i(d).progress},null,8,["progress"])):(o(),a("div",Fr,[...l[5]||(l[5]=[t("div",{class:"animate-spin rounded-full h-16 w-16 border-4 border-gray-200 dark:border-gray-700 border-t-primary mb-6"},null,-1),t("p",{class:"text-gray-600 dark:text-gray-400 font-medium"}," Инициализация импорта... ",-1),t("p",{class:"text-sm text-gray-500 dark:text-gray-500 mt-2"}," Пожалуйста, подождите ",-1)])]))])):i(d).currentStep===4?(o(),a("div",Hr,[i(d).progress?(o(),$(Y,{key:0,result:i(d).progress,onNewImport:c,onGoToDatabase:e},null,8,["result"])):b("",!0)])):b("",!0)])])}}});export{Yr as default};
