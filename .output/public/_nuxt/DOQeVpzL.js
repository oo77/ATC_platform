import{_ as Se}from"./BMofnORk.js";import{_ as Ve}from"./BNigTcCY.js";import{_ as Ee}from"./CFbq0LVm.js";import{Q as Ne,f as m,r as d,q as se,g as De,L as Fe,ak as Pe,c as l,k as $,b as U,h as f,a as s,t as o,w as _,d as g,i as H,O as K,n as N,F as X,m as Ae,l as xe,j as he,T as Qe,K as Ue,o as n}from"./GLV6bXvn.js";import{u as We}from"./DlZaGH1J.js";import{s as Re}from"./CRUGdXr-.js";import{_ as Ge}from"./DlAUqK2U.js";import"./CyDLpZDf.js";const Je={class:"min-h-screen bg-gray-100 dark:bg-boxdark-2"},He={key:0,class:"flex items-center justify-center min-h-screen"},Ke={key:1,class:"flex items-center justify-center min-h-screen p-4"},Xe={class:"bg-white dark:bg-boxdark rounded-2xl shadow-xl p-8 max-w-md w-full text-center"},Ye={class:"text-gray-600 dark:text-gray-400 mb-6"},Ze={key:2,class:"flex items-center justify-center min-h-screen p-4"},et={class:"bg-white dark:bg-boxdark rounded-2xl shadow-xl p-8 max-w-lg w-full"},tt={key:0,class:"text-center mb-4"},st={class:"text-center mb-8"},at={key:0,class:"w-10 h-10 text-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},nt={key:1,class:"w-10 h-10 text-danger",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ot={class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},lt={class:"text-gray-600 dark:text-gray-400"},rt={class:"bg-gray-50 dark:bg-meta-4 rounded-xl p-6 mb-6"},it={class:"text-center mb-4"},ut={class:"text-sm text-gray-500 dark:text-gray-400"},dt={class:"grid grid-cols-2 gap-4 text-center"},ct={class:"bg-white dark:bg-boxdark rounded-lg p-3"},vt={class:"text-lg font-bold text-gray-900 dark:text-white"},mt={class:"bg-white dark:bg-boxdark rounded-lg p-3"},gt={class:"text-lg font-bold text-gray-900 dark:text-white"},ft={class:"flex gap-3"},pt={key:3,class:"flex flex-col min-h-screen"},xt={key:0,class:"bg-amber-500 border-b border-amber-600 sticky top-0 z-60"},ht={class:"max-w-5xl mx-auto px-4 py-2"},bt={class:"flex items-center justify-between gap-3"},_t={class:"max-w-5xl mx-auto px-4 py-3"},kt={class:"flex items-center justify-between"},yt={class:"flex items-center gap-4"},wt={class:"font-semibold text-gray-900 dark:text-white line-clamp-1"},Ct={class:"text-sm text-gray-500 dark:text-gray-400"},jt={class:"flex items-center gap-3"},Lt={key:0,class:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-100 dark:bg-meta-4 text-sm"},Mt={class:"text-lg"},$t={class:"font-medium text-gray-700 dark:text-gray-300"},Ot={class:"tabular-nums"},qt={class:"mt-3 mb-1 flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400"},Bt={class:"font-medium"},zt={class:"w-full h-2 bg-gray-200 dark:bg-meta-4 rounded-full overflow-hidden"},Tt={class:"flex-1 py-6"},It={class:"max-w-3xl mx-auto px-4"},St={class:"bg-white dark:bg-boxdark rounded-2xl shadow-lg overflow-hidden"},Vt={class:"p-6 border-b border-gray-200 dark:border-gray-700"},Et={class:"flex items-start gap-4"},Nt={class:"shrink-0 w-10 h-10 rounded-full bg-primary text-white flex items-center justify-center font-bold"},Dt={class:"flex-1"},Ft={class:"text-lg font-semibold text-gray-900 dark:text-white leading-relaxed"},Pt={key:0,class:"mt-2 inline-flex items-center gap-1 text-sm text-gray-500 dark:text-gray-400"},At={class:"p-6"},Qt={key:0,class:"space-y-3"},Ut=["onClick"],Wt={key:0,class:"w-2 h-2 rounded-full bg-white"},Rt={class:"flex-1"},Gt={class:"block text-gray-900 dark:text-white"},Jt=["name","value","checked"],Ht={class:"mt-6 flex flex-wrap gap-2 bg-white dark:bg-boxdark rounded-xl p-4 shadow"},Kt=["onClick"],Xt={class:"bg-white dark:bg-boxdark border-t border-gray-200 dark:border-gray-700 sticky bottom-0"},Yt={class:"max-w-3xl mx-auto px-4 py-4"},Zt={class:"flex items-center justify-between"},es={key:1},ts={key:0,class:"fixed inset-0 z-100 flex items-center justify-center bg-black/50 backdrop-blur"},ss={class:"bg-white dark:bg-boxdark rounded-2xl shadow-2xl p-6 max-w-md w-full mx-4 animate-shake"},as={class:"bg-danger/10 rounded-lg p-3 mb-4"},ns={class:"text-sm text-danger"},os={key:0,class:"text-sm text-danger mt-1 font-medium"},ls={key:1,class:"text-sm text-danger mt-1 font-medium"},rs={__name:"[id]",setup(is){const ae=Ne(),{authFetch:W}=We(),C=m(()=>ae.params.id),i=m(()=>ae.query.preview==="true"),Y=d(!0),D=d(null),r=d(null),O=d([]),p=d({}),F=d(null),c=d(0),R=d(!1),x=d(null),P=d(null),h=d(0);let q=null;const G=d(!1),j=d(null),k=d(0),B=d(!1),z=m(()=>j.value?.maxViolations||3),J=d(!1),L=d({show:!1,type:"success",title:"",message:""}),y=m(()=>O.value.length),v=m(()=>O.value[c.value]||null);se(c,()=>{const e=v.value?.id;if(e){const t=p.value[e];x.value=t?.selectedOption||null}else x.value=null},{immediate:!0}),se(O,()=>{const e=v.value?.id;if(e){const t=p.value[e];x.value=t?.selectedOption||null}}),se(x,e=>{const t=v.value?.id;t&&e!==null&&(p.value[t]={selectedOption:e})}),m(()=>{const e=v.value?.id;return e?p.value[e]||{selectedOption:null}:{selectedOption:null}});const Z=m(()=>Object.values(p.value).filter(e=>e&&(e.selectedOption||e.selectedOptions?.length||e.text)).length),T=m(()=>y.value-Z.value),be=m(()=>y.value>0?Z.value/y.value*100:0),I=m(()=>r.value?.status==="completed"||r.value?.status==="timeout"||r.value?.status==="violation"),_e=m(()=>h.value>0&&h.value<=60),ee=m(()=>r.value?.language||null),ne={en:{label:"English",flag:"üá¨üáß"},ru:{label:"–†—É—Å—Å–∫–∏–π",flag:"üá∑üá∫"},uz:{label:"O'zbek",flag:"üá∫üáø"}},ke=e=>ne[e]?.label||e,ye=e=>ne[e]?.flag||"",we=async()=>{Y.value=!0,D.value=null;try{const e=await W(`/api/tests/sessions/${C.value}?include_questions=true&include_answers=true`);if(!e.success){D.value=e.message||"–°–µ—Å—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞";return}if(r.value=e.session,O.value=e.questions||[],e.answers)for(const t of e.answers)p.value[t.question_id]=t.answer_data;r.value.current_question_index!==void 0&&(c.value=r.value.current_question_index),I.value||(await Ce(e.templateSettings),je(),Le())}catch(e){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Å—Å–∏–∏:",e),D.value="–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ç–µ—Å—Ç–∞"}finally{Y.value=!1}},Ce=async(e=null)=>{try{if(i.value){const t=localStorage.getItem(`preview_template_${C.value}`);if(t){const a=JSON.parse(t);F.value={name:a.name||"–¢–µ—Å—Ç",allow_back:a.allow_back!==!1,time_limit_minutes:a.time_limit_minutes||null,proctoring_enabled:a.proctoring_enabled||!1,proctoring_settings:a.proctoring_settings||null},a.proctoring_enabled&&(G.value=!0,j.value=a.proctoring_settings||null),a.time_limit_minutes&&(P.value=a.time_limit_minutes),localStorage.removeItem(`preview_template_${C.value}`);return}}if(e){F.value={name:e.name||r.value?.template_name||"–¢–µ—Å—Ç",allow_back:e.allow_back!==!1,time_limit_minutes:e.time_limit_minutes||null,proctoring_enabled:e.proctoring_enabled||!1,proctoring_settings:e.proctoring_settings||null},e.time_limit_minutes&&(P.value=e.time_limit_minutes),e.proctoring_enabled&&(G.value=!0,j.value=e.proctoring_settings||{blockTabSwitch:!0,maxViolations:3,autoSubmitOnViolation:!0});return}F.value={name:r.value?.template_name||"–¢–µ—Å—Ç",allow_back:!0,time_limit_minutes:null,proctoring_enabled:!1,proctoring_settings:null}}catch(t){console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —à–∞–±–ª–æ–Ω–µ:",t)}},je=()=>{if(!P.value)return;const e=new Date(r.value.started_at).getTime(),t=Math.floor((Date.now()-e)/1e3),a=P.value*60;if(h.value=Math.max(0,a-t),h.value<=0){oe();return}q=Re(()=>{h.value--,h.value<=0&&(clearInterval(q),oe())},1e3)},oe=async()=>{V("warning","–í—Ä–µ–º—è –≤—ã—à–ª–æ","–¢–µ—Å—Ç –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à—ë–Ω"),await Q()},Le=()=>{G.value&&(document.addEventListener("visibilitychange",re),window.addEventListener("blur",ie),j.value?.blockRightClick&&document.addEventListener("contextmenu",ue),j.value?.blockCopyPaste&&(document.addEventListener("copy",de),document.addEventListener("paste",ce)))},le=()=>{document.removeEventListener("visibilitychange",re),window.removeEventListener("blur",ie),document.removeEventListener("contextmenu",ue),document.removeEventListener("copy",de),document.removeEventListener("paste",ce)},re=()=>{document.hidden&&!I.value&&S("visibility_change")},ie=()=>{I.value||S("tab_switch")},ue=e=>{e.preventDefault(),S("right_click")},de=e=>{e.preventDefault(),S("copy_paste")},ce=e=>{e.preventDefault(),S("copy_paste")},S=async e=>{if(i.value){k.value++,B.value=!0;return}if(k.value>=z.value){j.value?.autoSubmitOnViolation&&(B.value=!1,V("error","–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω","–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π"),await Q());return}k.value++,B.value=!0;try{await W(`/api/tests/sessions/${C.value}/violation`,{method:"POST",body:{type:e,timestamp:new Date().toISOString()}})}catch(t){console.error("–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è:",t)}k.value>=z.value&&j.value?.autoSubmitOnViolation&&(B.value=!1,V("error","–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω","–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π"),await Q())},Me=()=>{B.value=!1},$e=e=>{x.value=e;const t=v.value?.id;t&&(p.value[t]={selectedOption:e})};let b=!1;const Oe=async()=>{if(!b&&c.value<y.value-1){b=!0;try{await A(),c.value++}finally{b=!1}}},qe=async()=>{if(!b&&c.value>0){b=!0;try{await A(),c.value--}finally{b=!1}}},ve=async e=>{if(!b&&e!==c.value){b=!0;try{await A(),c.value=e}finally{b=!1}}},me=e=>{const t=O.value[e];if(!t)return!1;const a=p.value[t.id];return a&&(a.selectedOption||a.selectedOptions?.length||a.text)};let te=!1;const A=async()=>{if(te)return;const e=v.value,t=p.value[e?.id];if(!(!e||!t)){te=!0;try{await W(`/api/tests/sessions/${C.value}/answer`,{method:"POST",body:{question_id:e.id,answer_data:t,question_index:c.value}})}catch(a){console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞:",a)}finally{te=!1}}},Be=()=>{A(),J.value=!0},ze=()=>{if(J.value=!1,T.value>0){const e=O.value.findIndex((t,a)=>!me(a));e!==-1&&ve(e)}},Te=()=>{if(i.value,T.value>0){let e=`–£ –≤–∞—Å –µ—Å—Ç—å ${T.value} ${fe(T.value,"–Ω–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å","–Ω–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞","–Ω–µ–æ—Ç–≤–µ—á–µ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤")}.`;return h.value>60&&(e+=` –£ –≤–∞—Å –µ—â—ë –µ—Å—Ç—å ${ge(h.value)} –≤—Ä–µ–º–µ–Ω–∏, —á—Ç–æ–±—ã –ø–æ–¥—É–º–∞—Ç—å.`),e+=" –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç—ã?",e}return i.value?"–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã?":"–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã. –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã?"},Q=async()=>{R.value=!0,J.value=!1;try{await A();const e=await W(`/api/tests/sessions/${C.value}/finish`,{method:"POST"});e.success?(r.value={...r.value,status:"completed",...e.results},le(),q&&clearInterval(q)):V("error","–û—à–∏–±–∫–∞",e.message||"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç")}catch(e){console.error("–û—à–∏–±–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∞:",e),V("error","–û—à–∏–±–∫–∞","–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ç–µ—Å—Ç–∞")}finally{R.value=!1}},ge=e=>{const t=Math.floor(e/3600),a=Math.floor(e%3600/60),w=e%60;return t>0?`${t}:${a.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`:`${a}:${w.toString().padStart(2,"0")}`},Ie=e=>{const t=Math.floor(e/60),a=e%60;return`${t} –º–∏–Ω ${a} —Å–µ–∫`},fe=(e,t,a,w)=>{const M=e%10,u=e%100;return u>=11&&u<=19?w:M===1?t:M>=2&&M<=4?a:w},V=(e,t,a)=>{L.value={show:!0,type:e,title:t,message:a},setTimeout(()=>{L.value.show=!1},5e3)};De(()=>{we(),window.addEventListener("beforeunload",pe)}),Fe(()=>{le(),q&&clearInterval(q),window.removeEventListener("beforeunload",pe)});const pe=e=>{if(!I.value&&!i.value)return navigator.sendBeacon(`/api/tests/sessions/${C.value}/finish`,JSON.stringify({})),e.preventDefault(),e.returnValue="–¢–µ—Å—Ç –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à—ë–Ω –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã!",e.returnValue};return Pe(async(e,t,a)=>{if(!I.value&&!i.value)if(window.confirm(`‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï!

–ü—Ä–∏ –≤—ã—Ö–æ–¥–µ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–µ—Å—Ç –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ó–ê–í–ï–†–®–Å–ù —Å —Ç–µ–∫—É—â–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏.

–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç?`)){G.value&&await S("tab_switch");try{await Q(),V("warning","–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω","–í—ã –ø–æ–∫–∏–Ω—É–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–µ—Å—Ç–∞")}catch(M){console.error("–û—à–∏–±–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –ø—Ä–∏ —É—Ö–æ–¥–µ:",M)}a()}else a(!1);else a()}),(e,t)=>{const a=Se,w=Ve,M=Ee;return n(),l("div",Je,[Y.value?(n(),l("div",He,[...t[5]||(t[5]=[s("div",{class:"text-center"},[s("div",{class:"inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent mb-4"}),s("p",{class:"text-gray-600 dark:text-gray-400"},"–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–∞...")],-1)])])):D.value?(n(),l("div",Ke,[s("div",Xe,[t[7]||(t[7]=s("div",{class:"w-16 h-16 rounded-full bg-danger/10 flex items-center justify-center mx-auto mb-4"},[s("svg",{class:"w-8 h-8 text-danger",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),t[8]||(t[8]=s("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2"}," –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ",-1)),s("p",Ye,o(D.value),1),U(a,{onClick:t[0]||(t[0]=u=>("navigateTo"in e?e.navigateTo:H(K))("/tests/my"))},{default:_(()=>[...t[6]||(t[6]=[g(" –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É —Ç–µ—Å—Ç–æ–≤ ",-1)])]),_:1})])])):I.value?(n(),l("div",Ze,[s("div",et,[i.value?(n(),l("div",tt,[...t[9]||(t[9]=[s("span",{class:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium"},[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]),g(" –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ ")],-1)])])):f("",!0),s("div",st,[s("div",{class:N(["w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",r.value?.passed?"bg-success/10":"bg-danger/10"])},[r.value?.passed?(n(),l("svg",at,[...t[10]||(t[10]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):(n(),l("svg",nt,[...t[11]||(t[11]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],2),s("h2",ot,o(r.value?.passed?i.value?"–¢–µ—Å—Ç –±—É–¥–µ—Ç –ø—Ä–æ–π–¥–µ–Ω!":"–¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω!":i.value?"–¢–µ—Å—Ç –Ω–µ –±—É–¥–µ—Ç —Å–¥–∞–Ω":"–¢–µ—Å—Ç –Ω–µ —Å–¥–∞–Ω"),1),s("p",lt,[i.value?(n(),l(X,{key:0},[g(o(r.value?.passed?"–°—Ç—É–¥–µ–Ω—Ç —Å —Ç–∞–∫–∏–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏ —É—Å–ø–µ—à–Ω–æ —Å–¥–∞—Å—Ç —Ç–µ—Å—Ç.":"–°—Ç—É–¥–µ–Ω—Ç —Å —Ç–∞–∫–∏–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏ –Ω–µ –Ω–∞–±–µ—Ä—ë—Ç –ø—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª."),1)],64)):(n(),l(X,{key:1},[g(o(r.value?.passed?"–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å —É—Å–ø–µ—à–Ω—ã–º –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ–º —Ç–µ—Å—Ç–∞!":"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤—ã –Ω–µ –Ω–∞–±—Ä–∞–ª–∏ –ø—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª."),1)],64))])]),s("div",rt,[s("div",it,[s("div",{class:N(["text-5xl font-bold mb-1",r.value?.passed?"text-success":"text-danger"])},o(r.value?.score_percent!==null?Math.round(r.value.score_percent):0)+"% ",3),s("div",ut,o(i.value?"–†–µ–∑—É–ª—å—Ç–∞—Ç":"–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç"),1)]),s("div",dt,[s("div",ct,[s("div",vt,o(r.value?.total_points||0)+" / "+o(r.value?.max_points||0),1),t[12]||(t[12]=s("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," –ë–∞–ª–ª–æ–≤ –Ω–∞–±—Ä–∞–Ω–æ ",-1))]),s("div",mt,[s("div",gt,o(Ie(r.value?.time_spent_seconds||0)),1),t[13]||(t[13]=s("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," –í—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è ",-1))])])]),s("div",ft,[i.value?(n(),$(a,{key:0,class:"flex-1",onClick:t[1]||(t[1]=u=>("navigateTo"in e?e.navigateTo:H(K))("/test-bank/templates"))},{default:_(()=>[...t[14]||(t[14]=[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 17l-5-5m0 0l5-5m-5 5h12"})],-1),g(" –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —à–∞–±–ª–æ–Ω–∞–º ",-1)])]),_:1})):(n(),$(a,{key:1,variant:"outline",class:"flex-1",onClick:t[2]||(t[2]=u=>("navigateTo"in e?e.navigateTo:H(K))("/tests/my"))},{default:_(()=>[...t[15]||(t[15]=[g(" –ö —Å–ø–∏—Å–∫—É —Ç–µ—Å—Ç–æ–≤ ",-1)])]),_:1}))])])])):(n(),l("div",pt,[i.value?(n(),l("div",xt,[s("div",ht,[s("div",bt,[t[17]||(t[17]=Ae('<div class="flex items-center gap-2 text-white" data-v-1d1bb2bf><svg class="w-5 h-5 shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-1d1bb2bf><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" data-v-1d1bb2bf></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" data-v-1d1bb2bf></path></svg><p class="text-sm font-bold uppercase tracking-wider" data-v-1d1bb2bf> –†–µ–∂–∏–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ </p><span class="hidden md:inline-block text-xs opacity-90 border-l border-white/30 pl-2" data-v-1d1bb2bf> –í—ã –≤–∏–¥–∏—Ç–µ —Ç–µ—Å—Ç –∏–º–µ–Ω–Ω–æ —Ç–∞–∫, –∫–∞–∫ –µ–≥–æ —É–≤–∏–¥–∏—Ç —Å—Ç—É–¥–µ–Ω—Ç </span></div>',1)),U(a,{variant:"white",size:"xs",class:"text-amber-600! py-1!",onClick:t[3]||(t[3]=u=>("navigateTo"in e?e.navigateTo:H(K))("/test-bank/templates"))},{default:_(()=>[...t[16]||(t[16]=[g(" –í—ã–π—Ç–∏ –∏–∑ —Ä–µ–∂–∏–º–∞ ",-1)])]),_:1})])])])):f("",!0),s("header",{class:"bg-white dark:bg-boxdark shadow-sm sticky z-50 transition-all duration-300",style:xe({top:i.value?"41px":"0"})},[s("div",_t,[s("div",kt,[s("div",yt,[t[18]||(t[18]=s("div",{class:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center"},[s("svg",{class:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),s("div",null,[s("h1",wt,o(F.value?.name||"–¢–µ—Å—Ç"),1),s("p",Ct," –í–æ–ø—Ä–æ—Å "+o(c.value+1)+" –∏–∑ "+o(y.value),1)])]),s("div",jt,[ee.value?(n(),l("div",Lt,[s("span",Mt,o(ye(ee.value)),1),s("span",$t,o(ke(ee.value)),1)])):f("",!0),P.value?(n(),l("div",{key:1,class:N(["flex items-center gap-2 px-4 py-2 rounded-lg font-medium",_e.value?"bg-danger/10 text-danger animate-pulse":"bg-gray-100 dark:bg-meta-4 text-gray-700 dark:text-gray-300"])},[t[19]||(t[19]=s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s("span",Ot,o(ge(h.value)),1)],2)):f("",!0)])]),s("div",qt,[t[20]||(t[20]=s("span",null,"–ü—Ä–æ–≥—Ä–µ—Å—Å:",-1)),s("span",Bt,o(Z.value)+"/"+o(y.value),1)]),s("div",zt,[s("div",{class:"h-full bg-primary transition-all duration-300",style:xe({width:`${be.value}%`})},null,4)])])],4),s("main",Tt,[s("div",It,[s("div",St,[s("div",Vt,[s("div",Et,[s("div",Nt,o(c.value+1),1),s("div",Dt,[s("h2",Ft,o(v.value?.question_text),1),v.value?.points?(n(),l("div",Pt,[t[21]||(t[21]=s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})],-1)),g(" "+o(v.value.points)+" "+o(fe(v.value.points,"–±–∞–ª–ª","–±–∞–ª–ª–∞","–±–∞–ª–ª–æ–≤")),1)])):f("",!0)])])]),s("div",At,[v.value?.question_type==="single"?(n(),l("div",Qt,[(n(!0),l(X,null,he(v.value.options?.options,u=>(n(),l("label",{key:u.id,onClick:E=>$e(u.id),class:N(["flex items-start gap-4 p-4 rounded-xl border-2 cursor-pointer transition-all duration-200",x.value===u.id?"border-primary bg-primary/5":"border-gray-200 dark:border-gray-700 hover:border-primary/50 hover:bg-gray-50 dark:hover:bg-meta-4"])},[s("div",{class:N(["shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all",x.value===u.id?"border-primary bg-primary":"border-gray-300 dark:border-gray-600"])},[x.value===u.id?(n(),l("div",Wt)):f("",!0)],2),s("div",Rt,[s("span",Gt,o(u.text),1)]),s("input",{type:"radio",name:`question-${v.value.id}`,value:u.id,checked:x.value===u.id,class:"sr-only"},null,8,Jt)],10,Ut))),128))])):f("",!0)])]),s("div",Ht,[(n(!0),l(X,null,he(y.value,(u,E)=>(n(),l("button",{key:E,onClick:us=>ve(E),class:N(["w-10 h-10 rounded-lg text-sm font-medium transition-all duration-200",E===c.value?"bg-primary text-white shadow-lg scale-110":me(E)?"bg-success/10 text-success hover:bg-success/20":"bg-gray-100 dark:bg-meta-4 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"])},o(E+1),11,Kt))),128))])])]),s("footer",Xt,[s("div",Yt,[s("div",Zt,[F.value?.allow_back!==!1?(n(),$(a,{key:0,variant:"outline",disabled:c.value===0,onClick:qe},{default:_(()=>[...t[22]||(t[22]=[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),g(" –ù–∞–∑–∞–¥ ",-1)])]),_:1},8,["disabled"])):(n(),l("div",es)),c.value<y.value-1?(n(),$(a,{key:2,onClick:Oe},{default:_(()=>[...t[23]||(t[23]=[g(" –î–∞–ª–µ–µ ",-1),s("svg",{class:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),_:1})):(n(),$(a,{key:3,variant:"success",onClick:Be,loading:R.value},{default:_(()=>[t[24]||(t[24]=s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),g(" "+o(i.value?"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç—ã":"–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç"),1)]),_:1},8,["loading"]))])])])])),(n(),$(Ue,{to:"body"},[U(Qe,{name:"fade"},{default:_(()=>[B.value?(n(),l("div",ts,[s("div",ss,[t[26]||(t[26]=s("div",{class:"flex items-center gap-4 mb-4"},[s("div",{class:"w-12 h-12 rounded-full bg-danger/10 flex items-center justify-center shrink-0"},[s("svg",{class:"w-6 h-6 text-danger",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),s("div",null,[s("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"}," –ù–∞—Ä—É—à–µ–Ω–∏–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ! "),s("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –≤–æ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∞ ")])],-1)),s("div",as,[s("p",ns," –ù–∞—Ä—É—à–µ–Ω–∏–π: "+o(k.value)+" (–º–∞–∫—Å–∏–º—É–º: "+o(z.value)+") ",1),k.value>=z.value-1&&k.value<z.value?(n(),l("p",os," –°–ª–µ–¥—É—é—â–µ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—é —Ç–µ—Å—Ç–∞! ")):k.value>=z.value?(n(),l("p",ls," –õ–∏–º–∏—Ç –Ω–∞—Ä—É—à–µ–Ω–∏–π –ø—Ä–µ–≤—ã—à–µ–Ω! –¢–µ—Å—Ç –±—É–¥–µ—Ç –∑–∞–≤–µ—Ä—à—ë–Ω. ")):f("",!0)]),U(a,{class:"w-full",onClick:Me},{default:_(()=>[...t[25]||(t[25]=[g(" –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ç–µ—Å—Ç ",-1)])]),_:1})])])):f("",!0)]),_:1})])),U(w,{"is-open":J.value,title:i.value?"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç—ã?":"–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç?",message:Te(),"confirm-text":i.value?"–û—Ç–ø—Ä–∞–≤–∏—Ç—å":"–ó–∞–≤–µ—Ä—à–∏—Ç—å","cancel-text":T.value>0?"–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤–æ–ø—Ä–æ—Å–∞–º":"–û—Ç–º–µ–Ω–∞",variant:T.value>0?"warning":"success",loading:R.value,onConfirm:Q,onCancel:ze},null,8,["is-open","title","message","confirm-text","cancel-text","variant","loading"]),L.value.show?(n(),$(M,{key:4,type:L.value.type,title:L.value.title,message:L.value.message,onClose:t[4]||(t[4]=u=>L.value.show=!1)},null,8,["type","title","message"])):f("",!0)])}}},hs=Ge(rs,[["__scopeId","data-v-1d1bb2bf"]]);export{hs as default};
