import{_ as J}from"./BMofnORk.js";import{_ as K}from"./CyDLpZDf.js";import{r as c,g as Q,q as W,k as X,w as _,a as e,c as n,h as u,d as m,x as p,E as h,A as v,n as b,F as H,j as T,t as d,D as Y,b as F,z as Z,o as l}from"./GLV6bXvn.js";import{u as ee}from"./DVL-QcDc.js";import{u as te}from"./DlZaGH1J.js";const re={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start"},ae={class:"space-y-6"},oe={key:0,class:"border border-stroke dark:border-strokedark rounded-lg overflow-hidden"},se={class:"p-4 space-y-4"},le={class:"flex gap-4"},ne={class:"flex items-center gap-2 cursor-pointer"},de={class:"flex items-center gap-2 cursor-pointer"},ie={key:0,class:"space-y-3"},ue={class:"relative"},pe={key:0,class:"absolute z-50 w-full mt-1 bg-white dark:bg-boxdark border border-stroke dark:border-strokedark rounded-lg shadow-lg max-h-60 overflow-auto"},me=["onClick"],ce={class:"font-medium text-black dark:text-white"},ve={class:"text-sm text-gray-500 dark:text-gray-400"},fe={key:1,class:"mt-3 p-3 bg-success/10 border border-success/20 rounded-lg"},be={class:"flex items-center justify-between"},ke={class:"font-medium text-black dark:text-white"},xe={class:"text-sm text-gray-500 dark:text-gray-400"},ge={key:0,class:"text-sm text-danger"},ye={key:1,class:"space-y-4"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},De={key:0,class:"mt-1 text-sm text-danger"},he={key:0,class:"mt-1 text-sm text-danger"},Ne={key:0,class:"mt-1 text-sm text-danger"},Ue={key:0,class:"mt-1 text-sm text-danger"},Ce={class:"border border-stroke dark:border-strokedark rounded-lg overflow-hidden"},Se={class:"p-4 space-y-4"},Ve={class:"flex gap-4"},ze={class:"flex items-center gap-2 cursor-pointer"},_e={class:"flex items-center gap-2 cursor-pointer"},Me={key:0},Be=["value"],je={key:0,class:"mt-1 text-sm text-danger"},Ie={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-4"},$e={class:"md:col-span-2"},He={key:0,class:"mt-1 text-sm text-danger"},Te={class:"space-y-6"},Fe={class:"border border-stroke dark:border-strokedark rounded-lg overflow-hidden"},Oe={class:"p-4 space-y-4"},Re={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Le={key:0,class:"mt-1 text-sm text-danger"},Ae={key:0,class:"mt-1 text-sm text-danger"},Ee={key:0,class:"mt-1 text-sm text-danger"},qe={class:"border border-stroke dark:border-strokedark rounded-lg overflow-hidden"},Pe={class:"p-4"},Ge={class:"flex gap-4 mb-4"},Je={class:"flex items-center gap-2 cursor-pointer"},Ke={class:"flex items-center gap-2 cursor-pointer"},Qe={key:0},We={key:0,class:"mt-1 text-sm text-danger"},Xe={class:"flex justify-end gap-4 pt-4 border-t border-stroke dark:border-strokedark"},Ye={key:0,class:"flex items-center gap-2"},Ze={key:1,class:"flex items-center gap-2"},lt={__name:"DatabaseCertificateManualFormModal",props:{isOpen:{type:Boolean,required:!0},preselectedStudent:{type:Object,default:null}},emits:["close","created"],setup(N,{emit:O}){const y=N,M=O,B=ee(),{authFetch:S}=te(),f=c("existing"),x=c("manual"),g=c("url"),w=c(""),D=c([]),k=c(null),V=c(null),i=c({fullName:"",pinfl:"",organization:"",position:"",department:""}),z=c([]),U=c(""),o=c({courseName:"",courseCode:"",courseHours:null,certificateNumber:"",issueDate:"",expiryDate:"",fileUrl:""}),a=c({}),C=c(!1);Q(async()=>{await j()}),W(()=>y.isOpen,async s=>{s&&(await j(),I())});async function j(){try{const s=await S("/api/courses");s.success&&(z.value=s.courses||[])}catch(s){console.error("Ошибка загрузки курсов:",s)}}function R(){if(V.value&&clearTimeout(V.value),w.value.length<2){D.value=[];return}V.value=setTimeout(async()=>{try{const s=await S(`/api/students?search=${encodeURIComponent(w.value)}&limit=10`);s.success&&(D.value=s.students||[])}catch(s){console.error("Ошибка поиска слушателей:",s)}},300)}function L(s){k.value=s,w.value=s.fullName,D.value=[]}function A(){k.value=null,w.value="",D.value=[]}function E(){const s=z.value.find(t=>t.id===U.value);s&&(o.value.courseName=s.name,o.value.courseCode=s.code||"",o.value.courseHours=s.hours||null)}function I(){y.preselectedStudent||(k.value=null,f.value="existing"),x.value="manual",g.value="url",w.value="",D.value=[],U.value="",i.value={fullName:"",pinfl:"",organization:"",position:"",department:""},o.value={courseName:"",courseCode:"",courseHours:null,certificateNumber:"",issueDate:"",expiryDate:"",fileUrl:""},a.value={}}function q(){if(a.value={},y.preselectedStudent||(f.value==="existing"?k.value||(a.value.studentId="Выберите слушателя"):(i.value.fullName?.trim()||(a.value["studentData.fullName"]="ФИО обязательно"),i.value.pinfl?.trim()?/^\d{14}$/.test(i.value.pinfl.trim())||(a.value["studentData.pinfl"]="ПИНФЛ должен содержать 14 цифр"):a.value["studentData.pinfl"]="ПИНФЛ обязателен",i.value.organization?.trim()||(a.value["studentData.organization"]="Организация обязательна"),i.value.position?.trim()||(a.value["studentData.position"]="Должность обязательна"))),x.value==="existing"?U.value||(a.value.courseName="Выберите курс"):o.value.courseName?.trim()||(a.value.courseName="Название курса обязательно"),o.value.certificateNumber?.trim()||(a.value.certificateNumber="Номер сертификата обязателен"),o.value.issueDate||(a.value.issueDate="Дата выдачи обязательна"),o.value.expiryDate&&o.value.issueDate){const s=new Date(o.value.issueDate);new Date(o.value.expiryDate)<=s&&(a.value.expiryDate="Дата окончания должна быть позже даты выдачи")}if(g.value==="url"&&o.value.fileUrl)try{new URL(o.value.fileUrl)}catch{a.value.fileUrl="Введите корректный URL"}return Object.keys(a.value).length===0}async function P(){if(q()){C.value=!0;try{const s={studentId:y.preselectedStudent?y.preselectedStudent.id:f.value==="existing"?k.value?.id:void 0,createNewStudent:!y.preselectedStudent&&f.value==="new",studentData:!y.preselectedStudent&&f.value==="new"?{fullName:i.value.fullName.trim(),pinfl:i.value.pinfl.trim(),organization:i.value.organization.trim(),position:i.value.position.trim(),department:i.value.department?.trim()||void 0}:void 0,certificateNumber:o.value.certificateNumber.trim(),issueDate:o.value.issueDate,expiryDate:o.value.expiryDate||null,courseName:o.value.courseName.trim(),courseCode:o.value.courseCode?.trim()||void 0,courseHours:o.value.courseHours||void 0,fileUrl:g.value==="url"&&o.value.fileUrl?o.value.fileUrl.trim():void 0},t=await S("/api/certificates/manual",{method:"POST",body:s});if(t.success)B.success("Сертификат успешно создан","Успех"),M("created",t.certificate),M("close"),I();else throw new Error(t.message||"Ошибка создания сертификата")}catch(s){if(console.error("Ошибка создания сертификата:",s),s.data?.errors)for(const t of s.data.errors)a.value[t.field]=t.message;else B.error(s.message||"Произошла ошибка при создании сертификата","Ошибка")}finally{C.value=!1}}}return(s,t)=>{const $=J,G=K;return l(),X(G,{"is-open":N.isOpen,onClose:t[20]||(t[20]=r=>s.$emit("close")),title:N.preselectedStudent?`Добавить сертификат: ${N.preselectedStudent.fullName}`:"Добавить сертификат вручную",size:"xl"},{default:_(()=>[e("form",{onSubmit:Z(P,["prevent"]),class:"space-y-6"},[e("div",re,[e("div",ae,[N.preselectedStudent?u("",!0):(l(),n("div",oe,[t[29]||(t[29]=e("div",{class:"bg-gray-50 dark:bg-meta-4 px-4 py-3 border-b border-stroke dark:border-strokedark"},[e("h4",{class:"font-semibold text-black dark:text-white flex items-center gap-2"},[e("svg",{class:"h-5 w-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),m(" Слушатель ")])],-1)),e("div",se,[e("div",le,[e("label",ne,[p(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=r=>f.value=r),value:"existing",class:"w-4 h-4 text-primary"},null,512),[[h,f.value]]),t[21]||(t[21]=e("span",{class:"text-sm text-black dark:text-white"},"Выбрать существующего",-1))]),e("label",de,[p(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=r=>f.value=r),value:"new",class:"w-4 h-4 text-primary"},null,512),[[h,f.value]]),t[22]||(t[22]=e("span",{class:"text-sm text-black dark:text-white"},"Создать нового",-1))])]),f.value==="existing"?(l(),n("div",ie,[e("div",ue,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[m(" Поиск слушателя "),e("span",{class:"text-danger"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>w.value=r),type:"text",placeholder:"Введите ФИО или ПИНФЛ...",class:b(["w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-medium outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",{"border-danger":a.value.studentId}]),onInput:R},null,34),[[v,w.value]]),D.value.length>0&&!k.value?(l(),n("div",pe,[(l(!0),n(H,null,T(D.value,r=>(l(),n("button",{key:r.id,type:"button",onClick:et=>L(r),class:"w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-meta-4 border-b border-stroke dark:border-strokedark last:border-0"},[e("p",ce,d(r.fullName),1),e("p",ve," ПИНФЛ: "+d(r.pinfl)+" | "+d(r.organization),1)],8,me))),128))])):u("",!0),k.value?(l(),n("div",fe,[e("div",be,[e("div",null,[e("p",ke,d(k.value.fullName),1),e("p",xe," ПИНФЛ: "+d(k.value.pinfl)+" | "+d(k.value.organization),1)]),e("button",{type:"button",onClick:A,class:"text-danger hover:text-danger/80"},[...t[23]||(t[23]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):u("",!0)]),a.value.studentId?(l(),n("p",ge,d(a.value.studentId),1)):u("",!0)])):u("",!0),f.value==="new"?(l(),n("div",ye,[e("div",we,[e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[m(" ФИО "),e("span",{class:"text-danger"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>i.value.fullName=r),type:"text",placeholder:"Иванов Иван Иванович",class:b(["w-full rounded border-[1.5px] border-stroke bg-transparent px-4 py-2.5 font-medium outline-none transition focus:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",{"border-danger":a.value["studentData.fullName"]}])},null,2),[[v,i.value.fullName]]),a.value["studentData.fullName"]?(l(),n("p",De,d(a.value["studentData.fullName"]),1)):u("",!0)]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[m(" ПИНФЛ "),e("span",{class:"text-danger"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>i.value.pinfl=r),type:"text",placeholder:"12345678901234",maxlength:"14",class:b(["w-full rounded border-[1.5px] border-stroke bg-transparent px-4 py-2.5 font-medium outline-none transition focus:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary font-mono",{"border-danger":a.value["studentData.pinfl"]}])},null,2),[[v,i.value.pinfl]]),a.value["studentData.pinfl"]?(l(),n("p",he,d(a.value["studentData.pinfl"]),1)):u("",!0)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[m(" Организация "),e("span",{class:"text-danger"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>i.value.organization=r),type:"text",placeholder:'ООО "Название"',class:b(["w-full rounded border-[1.5px] border-stroke bg-transparent px-4 py-2.5 font-medium outline-none transition focus:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",{"border-danger":a.value["studentData.organization"]}])},null,2),[[v,i.value.organization]]),a.value["studentData.organization"]?(l(),n("p",Ne,d(a.value["studentData.organization"]),1)):u("",!0)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[m(" Должность "),e("span",{class:"text-danger"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>i.value.position=r),type:"text",placeholder:"Инженер",class:b(["w-full rounded border-[1.5px] border-stroke bg-transparent px-4 py-2.5 font-medium outline-none transition focus:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",{"border-danger":a.value["studentData.position"]}])},null,2),[[v,i.value.position]]),a.value["studentData.position"]?(l(),n("p",Ue,d(a.value["studentData.position"]),1)):u("",!0)])])])):u("",!0)])])),e("div",Ce,[t[37]||(t[37]=e("div",{class:"bg-gray-50 dark:bg-meta-4 px-4 py-3 border-b border-stroke dark:border-strokedark"},[e("h4",{class:"font-semibold text-black dark:text-white flex items-center gap-2"},[e("svg",{class:"h-5 w-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})]),m(" Информация о курсе ")])],-1)),e("div",Se,[e("div",Ve,[e("label",ze,[p(e("input",{type:"radio","onUpdate:modelValue":t[7]||(t[7]=r=>x.value=r),value:"existing",class:"w-4 h-4 text-primary"},null,512),[[h,x.value]]),t[30]||(t[30]=e("span",{class:"text-sm text-black dark:text-white"},"Выбрать из списка",-1))]),e("label",_e,[p(e("input",{type:"radio","onUpdate:modelValue":t[8]||(t[8]=r=>x.value=r),value:"manual",class:"w-4 h-4 text-primary"},null,512),[[h,x.value]]),t[31]||(t[31]=e("span",{class:"text-sm text-black dark:text-white"},"Ввести вручную",-1))])]),x.value==="existing"?(l(),n("div",Me,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[m(" Курс "),e("span",{class:"text-danger"},"*")],-1)),p(e("select",{"onUpdate:modelValue":t[9]||(t[9]=r=>U.value=r),onChange:E,class:b(["w-full rounded border-[1.5px] border-stroke bg-transparent px-4 py-2.5 font-medium outline-none transition focus:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",{"border-danger":a.value.courseName}])},[t[32]||(t[32]=e("option",{value:""},"Выберите курс...",-1)),(l(!0),n(H,null,T(z.value,r=>(l(),n("option",{key:r.id,value:r.id},d(r.name)+" ("+d(r.code||"без кода")+", "+d(r.hours||"?")+" ч.) ",9,Be))),128))],34),[[Y,U.value]]),a.value.courseName?(l(),n("p",je,d(a.value.courseName),1)):u("",!0)])):u("",!0),x.value==="manual"?(l(),n("div",Ie,[e("div",$e,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[m(" Название курса "),e("span",{class:"text-danger"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[10]||(t[10]=r=>o.value.courseName=r),type:"text",placeholder:"Курс повышения квалификации",class:b(["w-full rounded border-[1.5px] border-stroke bg-transparent px-4 py-2.5 font-medium outline-none transition focus:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",{"border-danger":a.value.courseName}])},null,2),[[v,o.value.courseName]]),a.value.courseName?(l(),n("p",He,d(a.value.courseName),1)):u("",!0)]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Код курса ",-1)),p(e("input",{"onUpdate:modelValue":t[11]||(t[11]=r=>o.value.courseCode=r),type:"text",placeholder:"ATC25",class:"w-full rounded border-[1.5px] border-stroke bg-transparent px-4 py-2.5 font-medium outline-none transition focus:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary font-mono"},null,512),[[v,o.value.courseCode]])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Количество часов ",-1)),p(e("input",{"onUpdate:modelValue":t[12]||(t[12]=r=>o.value.courseHours=r),type:"number",min:"1",placeholder:"72",class:"w-full rounded border-[1.5px] border-stroke bg-transparent px-4 py-2.5 font-medium outline-none transition focus:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"},null,512),[[v,o.value.courseHours,void 0,{number:!0}]])])])):u("",!0)])])]),e("div",Te,[e("div",Fe,[t[42]||(t[42]=e("div",{class:"bg-gray-50 dark:bg-meta-4 px-4 py-3 border-b border-stroke dark:border-strokedark"},[e("h4",{class:"font-semibold text-black dark:text-white flex items-center gap-2"},[e("svg",{class:"h-5 w-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),m(" Данные сертификата ")])],-1)),e("div",Oe,[e("div",Re,[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[m(" Номер сертификата "),e("span",{class:"text-danger"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[13]||(t[13]=r=>o.value.certificateNumber=r),type:"text",placeholder:"ATC25-001",class:b(["w-full rounded border-[1.5px] border-stroke bg-transparent px-4 py-2.5 font-medium outline-none transition focus:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary font-mono",{"border-danger":a.value.certificateNumber}])},null,2),[[v,o.value.certificateNumber]]),a.value.certificateNumber?(l(),n("p",Le,d(a.value.certificateNumber),1)):u("",!0)]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[m(" Дата выдачи "),e("span",{class:"text-danger"},"*")],-1)),p(e("input",{"onUpdate:modelValue":t[14]||(t[14]=r=>o.value.issueDate=r),type:"date",class:b(["w-full rounded border-[1.5px] border-stroke bg-transparent px-4 py-2.5 font-medium outline-none transition focus:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",{"border-danger":a.value.issueDate}])},null,2),[[v,o.value.issueDate]]),a.value.issueDate?(l(),n("p",Ae,d(a.value.issueDate),1)):u("",!0)]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Срок действия до ",-1)),p(e("input",{"onUpdate:modelValue":t[15]||(t[15]=r=>o.value.expiryDate=r),type:"date",class:b(["w-full rounded border-[1.5px] border-stroke bg-transparent px-4 py-2.5 font-medium outline-none transition focus:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",{"border-danger":a.value.expiryDate}])},null,2),[[v,o.value.expiryDate]]),a.value.expiryDate?(l(),n("p",Ee,d(a.value.expiryDate),1)):u("",!0),t[41]||(t[41]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," Оставьте пустым, если сертификат бессрочный ",-1))])])])]),e("div",qe,[t[45]||(t[45]=e("div",{class:"bg-gray-50 dark:bg-meta-4 px-4 py-3 border-b border-stroke dark:border-strokedark"},[e("h4",{class:"font-semibold text-black dark:text-white flex items-center gap-2"},[e("svg",{class:"h-5 w-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),m(" Файл сертификата "),e("span",{class:"text-xs text-gray-500 font-normal"},"(опционально)")])],-1)),e("div",Pe,[e("div",Ge,[e("label",Je,[p(e("input",{type:"radio","onUpdate:modelValue":t[16]||(t[16]=r=>g.value=r),value:"url",class:"w-4 h-4 text-primary"},null,512),[[h,g.value]]),t[43]||(t[43]=e("span",{class:"text-sm text-black dark:text-white"},"Ввести URL",-1))]),e("label",Ke,[p(e("input",{type:"radio","onUpdate:modelValue":t[17]||(t[17]=r=>g.value=r),value:"none",class:"w-4 h-4 text-primary"},null,512),[[h,g.value]]),t[44]||(t[44]=e("span",{class:"text-sm text-black dark:text-white"},"Без файла",-1))])]),g.value==="url"?(l(),n("div",Qe,[p(e("input",{"onUpdate:modelValue":t[18]||(t[18]=r=>o.value.fileUrl=r),type:"url",placeholder:"https://example.com/certificate.pdf",class:b(["w-full rounded border-[1.5px] border-stroke bg-transparent px-4 py-2.5 font-medium outline-none transition focus:border-primary dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",{"border-danger":a.value.fileUrl}])},null,2),[[v,o.value.fileUrl]]),a.value.fileUrl?(l(),n("p",We,d(a.value.fileUrl),1)):u("",!0)])):u("",!0)])])])]),e("div",Xe,[F($,{type:"button",variant:"secondary",onClick:t[19]||(t[19]=r=>s.$emit("close")),disabled:C.value},{default:_(()=>[...t[46]||(t[46]=[m(" Отмена ",-1)])]),_:1},8,["disabled"]),F($,{type:"submit",variant:"primary",disabled:C.value,class:"min-w-[150px]"},{default:_(()=>[C.value?(l(),n("span",Ze,[...t[48]||(t[48]=[e("div",{class:"h-4 w-4 animate-spin rounded-full border-2 border-solid border-white border-t-transparent"},null,-1),m(" Создание... ",-1)])])):(l(),n("span",Ye,[...t[47]||(t[47]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),m(" Создать сертификат ",-1)])]))]),_:1},8,["disabled"])])],32)]),_:1},8,["is-open","title"])}}};export{lt as _};
