import{_ as fe}from"./BKg9m4wI.js";import{_ as I}from"./BMofnORk.js";import{_ as ve}from"./CyDLpZDf.js";import{v as J,C as xe,r as d,q as Z,k as ee,w as n,a as e,x as Y,A as R,i as a,G as ye,t as f,b as i,d as p,z as be,o as c,Q as ke,s as he,f as S,L as we,u as _e,g as Ce,am as Me,c as g,h as D,F as Ae,n as K,m as Q,l as X,H as $e,K as je}from"./GLV6bXvn.js";import{u as te}from"./DlZaGH1J.js";import{u as se}from"./DVL-QcDc.js";import"./CqdpKe-B.js";import"./CFbq0LVm.js";import"./CRUGdXr-.js";const De={class:"flex items-center gap-3"},ze={class:"relative inline-flex items-center cursor-pointer"},Ee={class:"text-sm text-gray-700 dark:text-gray-300"},Se={class:"flex justify-end gap-3 pt-4"},Ye=J({__name:"TemplateEditModal",props:{isOpen:{type:Boolean},template:{}},emits:["close","updated"],setup(B,{emit:U}){const $=B,y=U,{authFetch:h}=te(),{success:w,error:z}=se(),l=xe({name:"",description:"",isActive:!0}),r=d(!1);Z(()=>$.template,u=>{u&&(l.name=u.name,l.description=u.description||"",l.isActive=u.isActive)},{immediate:!0});const _=()=>{r.value||y("close")},C=async()=>{if(!r.value&&$.template){r.value=!0;try{const u=await h(`/api/certificates/templates/${$.template.id}`,{method:"PUT",body:{name:l.name.trim(),description:l.description.trim()||null,isActive:l.isActive}});u.success&&(w("Шаблон обновлён"),y("updated",u.template))}catch(u){console.error("Error updating template:",u),z(u.data?.message||u.message||"Ошибка обновления")}finally{r.value=!1}}};return(u,o)=>{const v=I,k=ve;return c(),ee(k,{"is-open":B.isOpen,title:"Редактирование шаблона",size:"sm",onClose:_},{default:n(()=>[e("form",{onSubmit:be(C,["prevent"]),class:"space-y-4"},[e("div",null,[o[3]||(o[3]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Название шаблона * ",-1)),Y(e("input",{"onUpdate:modelValue":o[0]||(o[0]=b=>a(l).name=b),type:"text",class:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-2.5 text-gray-900 dark:text-white focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",required:""},null,512),[[R,a(l).name]])]),e("div",null,[o[4]||(o[4]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Описание ",-1)),Y(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=b=>a(l).description=b),rows:"3",class:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-2.5 text-gray-900 dark:text-white focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 resize-none"},null,512),[[R,a(l).description]])]),e("div",De,[e("label",ze,[Y(e("input",{"onUpdate:modelValue":o[2]||(o[2]=b=>a(l).isActive=b),type:"checkbox",class:"sr-only peer"},null,512),[[ye,a(l).isActive]]),o[5]||(o[5]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary/20 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"},null,-1))]),e("span",Ee,f(a(l).isActive?"Активен":"Неактивен"),1)]),e("div",Se,[i(v,{type:"button",variant:"outline",onClick:_,disabled:a(r)},{default:n(()=>[...o[6]||(o[6]=[p(" Отмена ",-1)])]),_:1},8,["disabled"]),i(v,{type:"submit",loading:a(r)},{default:n(()=>[...o[7]||(o[7]=[p(" Сохранить ",-1)])]),_:1},8,["loading"])])],32)]),_:1},8,["is-open"])}}}),Be=Object.assign(Ye,{__name:"CertificatesTemplateEditModal"}),Ue={class:"mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10"},He={class:"mb-6"},Te={key:0,class:"flex justify-center items-center py-20"},Ne={key:1,class:"rounded-xl bg-white dark:bg-boxdark shadow-md p-8 text-center"},Le={class:"text-gray-500 dark:text-gray-400 mb-4"},Ve={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Fe={class:"text-title-md2 font-bold text-black dark:text-white"},Oe={key:0,class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Pe={class:"flex items-center gap-3"},Re={class:"grid grid-cols-1 xl:grid-cols-2 gap-6"},We={class:"space-y-6"},qe={class:"rounded-xl bg-white dark:bg-boxdark shadow-md p-6"},Ge={key:0,class:"absolute inset-0 flex flex-col items-center justify-center bg-white/80 dark:bg-gray-900/80 z-10"},Ke={key:1,class:"text-center p-8"},Qe={key:2,class:"w-full h-full flex items-center justify-center p-4"},Xe=["srcdoc"],Ie={key:0,class:"mt-4 grid grid-cols-3 gap-4 text-center"},Je={class:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Ze={class:"text-2xl font-bold text-primary"},et={class:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},tt={class:"text-lg font-bold text-gray-900 dark:text-white"},st={class:"space-y-6"},at={class:"rounded-xl bg-white dark:bg-boxdark shadow-md p-6"},rt={class:"space-y-4"},ot={class:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},lt={class:"text-primary font-mono"},it={class:"rounded-xl bg-white dark:bg-boxdark shadow-md p-6"},nt={class:"space-y-4"},dt={class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},ut={class:"font-mono font-bold text-gray-900 dark:text-white"},ct={class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},pt={class:"text-gray-900 dark:text-white"},mt={class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},gt={class:"text-gray-900 dark:text-white"},ft={class:"rounded-xl bg-white dark:bg-boxdark shadow-md p-6"},vt={class:"space-y-3"},xt={class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},yt={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},bt={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},kt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},ht={class:"relative bg-white dark:bg-boxdark rounded-xl shadow-xl p-6 max-w-md w-full mx-4"},wt={class:"text-gray-500 dark:text-gray-400 mb-6"},_t={class:"flex gap-3 justify-end"},Yt=J({__name:"index",setup(B){const U=ke(),$=he(),{authFetch:y}=te(),{success:h,error:w}=se(),z=d(!0),l=d(null),r=d(null),_=d(!1),C=d(!1),u=d(!1),o=d(null),v=d(null),k=d("ATC{YY}_{CODE}_{NUM}"),b=d(!1),H=d(!1),T=d(!1),N=d(!1),L=d(!1),M=S(()=>U.params.id),ae=S(()=>{const s=new Date;return k.value.replace("{YY}",s.getFullYear().toString().slice(-2)).replace("{YYYY}",s.getFullYear().toString()).replace("{CODE}","SAMPLE").replace("{NUM}","0001")}),re=S(()=>{const s=r.value?.layout||r.value?.templateData?.layout;return s==="A4_portrait"||s==="letter_portrait"?"aspect-[1/1.414]":"aspect-[1.414/1]"}),W=d(null),V=d(0),F=d(0);let j=null;Z(W,s=>{j&&j.disconnect(),s&&(j=new ResizeObserver(t=>{const x=t[0];x&&(V.value=x.contentRect.width,F.value=x.contentRect.height)}),j.observe(s))}),we(()=>{j&&j.disconnect()});const O=S(()=>{if(!v.value||!V.value||!F.value)return 1;const s=v.value.width,t=v.value.height,x=48,m=V.value-x,P=F.value-x,A=m/s,me=P/t,ge=Math.min(A,me);return Math.min(Math.max(ge,.1),1)});_e(()=>({title:r.value?`${r.value.name} - Шаблоны сертификатов`:"Загрузка..."}));const q=async()=>{if(r.value){u.value=!0;try{const s=await y(`/api/certificates/templates/${M.value}/preview`);s.success&&s.hasTemplate&&s.preview&&(o.value=s.preview.html,v.value={width:s.preview.width,height:s.preview.height,elementsCount:s.preview.elementsCount})}catch(s){console.error("Error loading preview:",s)}finally{u.value=!1}}},E=async()=>{z.value=!0,l.value=null;try{const s=await y(`/api/certificates/templates/${M.value}`);s.success?(r.value=s.template,k.value=s.template.numberFormat||"ATC{YY}_{CODE}_{NUM}",q()):l.value="Шаблон не найден"}catch(s){console.error("Error loading template:",s),l.value=s.message||"Ошибка загрузки шаблона"}finally{z.value=!1}},oe=async()=>{b.value=!0;try{await y(`/api/certificates/templates/${M.value}`,{method:"PUT",body:{numberFormat:k.value}}),h("Формат номера сохранён")}catch(s){console.error("Save format error:",s),w(s.data?.message||s.message||"Ошибка сохранения")}finally{b.value=!1}},le=async()=>{if(r.value){H.value=!0;try{const s=await y(`/api/certificates/templates/${M.value}`,{method:"PUT",body:{isActive:!r.value.isActive}});s.success&&(r.value=s.template,h(r.value.isActive?"Шаблон активирован":"Шаблон деактивирован"))}catch(s){console.error("Toggle active error:",s),w(s.data?.message||s.message||"Ошибка")}finally{H.value=!1}}},ie=()=>{C.value=!0},ne=async()=>{T.value=!0;try{await y(`/api/certificates/templates/${M.value}`,{method:"DELETE"}),h("Шаблон удалён"),$.push("/certificates/templates")}catch(s){console.error("Delete error:",s),w(s.data?.message||s.message||"Ошибка удаления"),C.value=!1}finally{T.value=!1}},de=async()=>{if(r.value){N.value=!0;try{const s=await y(`/api/certificates/templates/${M.value}/duplicate`,{method:"POST"});s.success&&(h(s.message||"Шаблон успешно дублирован"),$.push(`/certificates/templates/${s.template.id}`))}catch(s){console.error("Duplicate error:",s),w(s.data?.message||s.message||"Ошибка дублирования")}finally{N.value=!1}}},ue=async()=>{if(r.value){L.value=!0;try{const s=await y(`/api/certificates/templates/${M.value}/sync-counter`,{method:"POST"});s.success&&(h(s.message),r.value&&(r.value.lastNumber=s.data.newCounter),await E())}catch(s){console.error("Sync counter error:",s),w(s.data?.message||s.message||"Ошибка синхронизации счетчика")}finally{L.value=!1}}},ce=s=>{r.value=s,_.value=!1,q()};function G(s){return new Date(s).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function pe(s){return{A4_landscape:"A4 альб.",A4_portrait:"A4 кн.",letter_landscape:"Letter альб.",letter_portrait:"Letter кн."}[s||""]||"A4"}return Ce(()=>{E()}),Me(()=>{E()}),(s,t)=>{const x=fe,m=I,P=Be;return c(),g("div",Ue,[e("div",He,[i(x,{to:"/certificates/templates",class:"inline-flex items-center gap-2 text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary transition-colors"},{default:n(()=>[...t[5]||(t[5]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),p(" Назад к списку шаблонов ",-1)])]),_:1})]),a(z)?(c(),g("div",Te,[...t[6]||(t[6]=[e("div",{class:"h-12 w-12 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"},null,-1)])])):a(l)?(c(),g("div",Ne,[t[8]||(t[8]=e("div",{class:"mx-auto mb-4 h-16 w-16 rounded-full bg-danger/10 flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-danger",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t[9]||(t[9]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white mb-2"}," Ошибка ",-1)),e("p",Le,f(a(l)),1),i(m,{onClick:E},{default:n(()=>[...t[7]||(t[7]=[p("Попробовать снова",-1)])]),_:1})])):a(r)?(c(),g(Ae,{key:2},[e("div",Ve,[e("div",null,[e("h2",Fe,f(a(r).name),1),a(r).description?(c(),g("p",Oe,f(a(r).description),1)):D("",!0)]),e("div",Pe,[e("span",{class:K(["px-3 py-1 rounded-full text-sm font-medium",a(r).isActive?"bg-success/10 text-success":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"])},f(a(r).isActive?"Активен":"Неактивен"),3),i(x,{to:`/certificates/templates/${a(r).id}/editor`},{default:n(()=>[i(m,{variant:"primary"},{default:n(()=>[...t[10]||(t[10]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})],-1),p(" Открыть редактор ",-1)])]),_:1})]),_:1},8,["to"]),i(m,{variant:"outline",onClick:t[0]||(t[0]=A=>_.value=!0)},{default:n(()=>[...t[11]||(t[11]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),p(" Настройки ",-1)])]),_:1})])]),e("div",Re,[e("div",We,[e("div",qe,[t[18]||(t[18]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Предпросмотр шаблона ",-1)),e("div",{ref_key:"previewContainerEl",ref:W,class:K(["bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center relative overflow-hidden",a(re)])},[a(u)?(c(),g("div",Ge,[...t[12]||(t[12]=[e("div",{class:"h-10 w-10 animate-spin rounded-full border-4 border-solid border-primary border-t-transparent"},null,-1),e("p",{class:"mt-2 text-sm text-gray-500"}," Загрузка предпросмотра... ",-1)])])):D("",!0),a(r).templateData?a(o)?(c(),g("div",Qe,[e("div",{class:"bg-white shadow-lg relative overflow-hidden transition-all duration-300",style:X({width:`${(a(v)?.width||0)*a(O)}px`,height:`${(a(v)?.height||0)*a(O)}px`})},[e("div",{class:"origin-top-left",style:X({width:`${a(v)?.width||1123}px`,height:`${a(v)?.height||794}px`,transform:`scale(${a(O)})`})},[e("iframe",{srcdoc:a(o),class:"w-full h-full border-0 block",sandbox:"allow-same-origin",scrolling:"no"},null,8,Xe)],4)],4)])):D("",!0):(c(),g("div",Ke,[t[14]||(t[14]=Q('<div class="mx-auto mb-4 h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center"><svg class="w-10 h-10 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg></div><h4 class="text-lg font-medium text-gray-900 dark:text-white mb-2"> Шаблон не создан </h4><p class="text-sm text-gray-500 dark:text-gray-400 mb-4"> Откройте визуальный редактор, чтобы создать дизайн сертификата </p>',3)),i(x,{to:`/certificates/templates/${a(r).id}/editor`},{default:n(()=>[i(m,null,{default:n(()=>[...t[13]||(t[13]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),p(" Создать шаблон ",-1)])]),_:1})]),_:1},8,["to"])]))],2),a(r).templateData?(c(),g("div",Ie,[e("div",Je,[e("p",Ze,f(a(r).templateData.elements?.length||0),1),t[15]||(t[15]=e("p",{class:"text-xs text-gray-500"},"элементов",-1))]),e("div",et,[e("p",tt,f(pe(a(r).layout)),1),t[16]||(t[16]=e("p",{class:"text-xs text-gray-500"},"макет",-1))]),t[17]||(t[17]=e("div",{class:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[e("p",{class:"text-lg font-bold text-success"},"Готов"),e("p",{class:"text-xs text-gray-500"},"статус")],-1))])):D("",!0)])]),e("div",st,[e("div",at,[t[23]||(t[23]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Формат номера сертификата ",-1)),e("div",rt,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Шаблон номера ",-1)),Y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=A=>$e(k)?k.value=A:null),type:"text",class:"w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-2.5 text-gray-900 dark:text-white font-mono focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[R,a(k)]])]),e("div",ot,[t[20]||(t[20]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-2"}," Пример: ",-1)),e("code",lt,f(a(ae)),1)]),t[22]||(t[22]=Q('<p class="text-xs text-gray-500"><code class="bg-gray-100 dark:bg-gray-700 px-1 rounded">{YY}</code> — год (25), <code class="bg-gray-100 dark:bg-gray-700 px-1 rounded">{YYYY}</code> — год (2025), <code class="bg-gray-100 dark:bg-gray-700 px-1 rounded">{CODE}</code> — код курса, <code class="bg-gray-100 dark:bg-gray-700 px-1 rounded">{NUM}</code> — номер (0001) </p>',1)),i(m,{onClick:oe,loading:a(b),variant:"outline",class:"w-full"},{default:n(()=>[...t[21]||(t[21]=[p(" Сохранить формат ",-1)])]),_:1},8,["loading"])])]),e("div",it,[t[29]||(t[29]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Статистика ",-1)),e("div",nt,[e("div",dt,[t[24]||(t[24]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Последний номер",-1)),e("span",ut,f(a(r).lastNumber||0),1)]),e("div",ct,[t[25]||(t[25]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Создан",-1)),e("span",pt,f(G(a(r).createdAt)),1)]),e("div",mt,[t[26]||(t[26]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Обновлён",-1)),e("span",gt,f(G(a(r).updatedAt)),1)]),i(m,{variant:"outline",class:"w-full",onClick:ue,loading:a(L)},{default:n(()=>[...t[27]||(t[27]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),p(" Синхронизировать счетчик ",-1)])]),_:1},8,["loading"]),t[28]||(t[28]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," Используйте, если счетчик сбился после импорта или возникли дубликаты номеров ",-1))])]),e("div",ft,[t[33]||(t[33]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"}," Действия ",-1)),e("div",vt,[i(x,{to:`/certificates/templates/${a(r).id}/editor`,class:"block"},{default:n(()=>[i(m,{variant:"primary",class:"w-full"},{default:n(()=>[...t[30]||(t[30]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),p(" Редактировать шаблон ",-1)])]),_:1})]),_:1},8,["to"]),i(m,{variant:"outline",class:"w-full",onClick:le,loading:a(H)},{default:n(()=>[(c(),g("svg",xt,[a(r).isActive?(c(),g("path",yt)):(c(),g("path",bt))])),p(" "+f(a(r).isActive?"Деактивировать":"Активировать"),1)]),_:1},8,["loading"]),i(m,{variant:"outline",class:"w-full",onClick:de,loading:a(N)},{default:n(()=>[...t[31]||(t[31]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),p(" Дублировать шаблон ",-1)])]),_:1},8,["loading"]),i(m,{variant:"danger",class:"w-full",onClick:ie},{default:n(()=>[...t[32]||(t[32]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),p(" Удалить шаблон ",-1)])]),_:1})])])])])],64)):D("",!0),i(P,{"is-open":a(_),template:a(r),onClose:t[2]||(t[2]=A=>_.value=!1),onUpdated:ce},null,8,["is-open","template"]),(c(),ee(je,{to:"body"},[a(C)?(c(),g("div",kt,[e("div",{class:"absolute inset-0 bg-black/50",onClick:t[3]||(t[3]=A=>C.value=!1)}),e("div",ht,[t[36]||(t[36]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"}," Удалить шаблон? ",-1)),e("p",wt,' Вы уверены, что хотите удалить шаблон "'+f(a(r)?.name)+'"? Это действие нельзя отменить. ',1),e("div",_t,[i(m,{variant:"outline",onClick:t[4]||(t[4]=A=>C.value=!1)},{default:n(()=>[...t[34]||(t[34]=[p(" Отмена ",-1)])]),_:1}),i(m,{variant:"danger",onClick:ne,loading:a(T)},{default:n(()=>[...t[35]||(t[35]=[p(" Удалить ",-1)])]),_:1},8,["loading"])])])])):D("",!0)]))])}}});export{Yt as default};
