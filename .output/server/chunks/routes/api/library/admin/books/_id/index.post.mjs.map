{"version":3,"file":"index.post.mjs","sources":["../../../../../../../../../server/api/library/admin/books/[id]/access/index.post.ts"],"names":["libraryRepository.getBookById","libraryRepository.createBookAccess","libraryRepository.checkUserBookAccess"],"mappings":"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"}