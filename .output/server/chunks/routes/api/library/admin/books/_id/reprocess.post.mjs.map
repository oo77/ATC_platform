{"version":3,"file":"reprocess.post.mjs","sources":["../../../../../../../../../server/api/library/admin/books/[id]/reprocess.post.ts"],"names":["libraryRepository.getBookById","pdfProcessor.deleteBookFiles","pdfProcessor.getPDFInfo","pdfProcessor.generateCover"],"mappings":"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"}