{"version":3,"file":"progress.post.mjs","sources":["../../../../../../../../server/api/library/reading/[bookId]/progress.post.ts"],"names":["libraryRepository.checkUserBookAccess","libraryRepository.getBookById","libraryRepository.saveReadingProgress","libraryRepository.updateSessionActivity"],"mappings":"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"}